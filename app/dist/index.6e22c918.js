function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},o=n.parcelRequiredc87;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},n.parcelRequiredc87=o),o.register("c1bOu",(function(t,n){var r,a;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var o={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},a=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o.register("igYK6",(function(e,t){e.exports=import("./"+o("c1bOu").resolve("1UwEQ")).then((()=>o("lOUEZ")))})),o("c1bOu").register(JSON.parse('{"bXkwM":"index.6e22c918.js","IA7EQ":"zusam_logo.1eebfd28.svg","1UwEQ":"nlg.41672c04.js","fGyc1":"service-workers.js"}'));var i,s,l,c,u,p,d,f={},g=[],h=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function m(e,t){for(var n in t)e[n]=t[n];return e}function v(e){var t=e.parentNode;t&&t.removeChild(e)}function _(e,t,n){var r,a,o,s={};for(o in t)"key"==o?r=t[o]:"ref"==o?a=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?i.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===s[o]&&(s[o]=e.defaultProps[o]);return y(e,s,r,a,null)}function y(e,t,n,r,a){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++l:a};return null==a&&null!=s.vnode&&s.vnode(o),o}function b(e){return e.children}function k(e,t){this.props=e,this.context=t}function w(e,t){if(null==t)return e.__?w(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?w(e):null}function O(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return O(e)}}function x(e){(!e.__d&&(e.__d=!0)&&c.push(e)&&!S.__r++||p!==s.debounceRendering)&&((p=s.debounceRendering)||u)(S)}function S(){for(var e;S.__r=c.length;)e=c.sort((function(e,t){return e.__v.__b-t.__v.__b})),c=[],e.some((function(e){var t,n,r,a,o,i;e.__d&&(o=(a=(t=e).__v).__e,(i=t.__P)&&(n=[],(r=m({},a)).__v=a.__v+1,I(i,a,r,t.__n,void 0!==i.ownerSVGElement,null!=a.__h?[o]:null,n,null==o?w(a):o,a.__h),M(n,a),a.__e!=o&&O(a)))}))}function j(e,t,n,r,a,o,i,s,l,c){var u,p,d,h,m,v,_,k=r&&r.__k||g,O=k.length;for(n.__k=[],u=0;u<t.length;u++)if(null!=(h=n.__k[u]=null==(h=t[u])||"boolean"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?y(null,h,null,null,h):Array.isArray(h)?y(b,{children:h},null,null,null):h.__b>0?y(h.type,h.props,h.key,null,h.__v):h)){if(h.__=n,h.__b=n.__b+1,null===(d=k[u])||d&&h.key==d.key&&h.type===d.type)k[u]=void 0;else for(p=0;p<O;p++){if((d=k[p])&&h.key==d.key&&h.type===d.type){k[p]=void 0;break}d=null}I(e,h,d=d||f,a,o,i,s,l,c),m=h.__e,(p=h.ref)&&d.ref!=p&&(_||(_=[]),d.ref&&_.push(d.ref,null,h),_.push(p,h.__c||m,h)),null!=m?(null==v&&(v=m),"function"==typeof h.type&&h.__k===d.__k?h.__d=l=C(h,l,e):l=L(e,h,d,k,m,l),"function"==typeof n.type&&(n.__d=l)):l&&d.__e==l&&l.parentNode!=e&&(l=w(d))}for(n.__e=v,u=O;u--;)null!=k[u]&&("function"==typeof n.type&&null!=k[u].__e&&k[u].__e==n.__d&&(n.__d=w(r,u+1)),D(k[u],k[u]));if(_)for(u=0;u<_.length;u++)$(_[u],_[++u],_[++u])}function C(e,t,n){for(var r,a=e.__k,o=0;a&&o<a.length;o++)(r=a[o])&&(r.__=e,t="function"==typeof r.type?C(r,t,n):L(n,r,r,a,r.__e,t));return t}function P(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){P(e,t)})):t.push(e)),t}function L(e,t,n,r,a,o){var i,s,l;if(void 0!==t.__d)i=t.__d,t.__d=void 0;else if(null==n||a!=o||null==a.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(a),i=null;else{for(s=o,l=0;(s=s.nextSibling)&&l<r.length;l+=2)if(s==a)break e;e.insertBefore(a,o),i=o}return void 0!==i?i:a.nextSibling}function E(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||h.test(t)?n:n+"px"}function A(e,t,n,r,a){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||E(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||E(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?R:N,o):e.removeEventListener(t,o?R:N,o);else if("dangerouslySetInnerHTML"!==t){if(a)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function N(e){this.l[e.type+!1](s.event?s.event(e):e)}function R(e){this.l[e.type+!0](s.event?s.event(e):e)}function I(e,t,n,r,a,o,l,c,u){var p,d,g,h,_,y,O,x,S,C,P,L,E,N=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(u=n.__h,c=t.__e=n.__e,t.__h=null,o=[c]),(p=s.__b)&&p(t);try{e:if("function"==typeof N){if(x=t.props,S=(p=N.contextType)&&r[p.__c],C=p?S?S.props.value:p.__:r,n.__c?O=(d=t.__c=n.__c).__=d.__E:("prototype"in N&&N.prototype.render?t.__c=d=new N(x,C):(t.__c=d=new k(x,C),d.constructor=N,d.render=z),S&&S.sub(d),d.props=x,d.state||(d.state={}),d.context=C,d.__n=r,g=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=N.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=m({},d.__s)),m(d.__s,N.getDerivedStateFromProps(x,d.__s))),h=d.props,_=d.state,g)null==N.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==N.getDerivedStateFromProps&&x!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(x,C),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(x,d.__s,C)||t.__v===n.__v){d.props=x,d.state=d.__s,t.__v!==n.__v&&(d.__d=!1),d.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),d.__h.length&&l.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(x,d.__s,C),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(h,_,y)}))}if(d.context=C,d.props=x,d.__v=t,d.__P=e,P=s.__r,L=0,"prototype"in N&&N.prototype.render)d.state=d.__s,d.__d=!1,P&&P(t),p=d.render(d.props,d.state,d.context);else do{d.__d=!1,P&&P(t),p=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++L<25);d.state=d.__s,null!=d.getChildContext&&(r=m(m({},r),d.getChildContext())),g||null==d.getSnapshotBeforeUpdate||(y=d.getSnapshotBeforeUpdate(h,_)),E=null!=p&&p.type===b&&null==p.key?p.props.children:p,j(e,Array.isArray(E)?E:[E],t,n,r,a,o,l,c,u),d.base=t.__e,t.__h=null,d.__h.length&&l.push(d),O&&(d.__E=d.__=null),d.__e=!1}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,a,o,s,l){var c,u,p,d=n.props,g=t.props,h=t.type,m=0;if("svg"===h&&(a=!0),null!=o)for(;m<o.length;m++)if((c=o[m])&&"setAttribute"in c==!!h&&(h?c.localName===h:3===c.nodeType)){e=c,o[m]=null;break}if(null==e){if(null===h)return document.createTextNode(g);e=a?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,g.is&&g),o=null,l=!1}if(null===h)d===g||l&&e.data===g||(e.data=g);else{if(o=o&&i.call(e.childNodes),u=(d=n.props||f).dangerouslySetInnerHTML,p=g.dangerouslySetInnerHTML,!l){if(null!=o)for(d={},m=0;m<e.attributes.length;m++)d[e.attributes[m].name]=e.attributes[m].value;(p||u)&&(p&&(u&&p.__html==u.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}if(function(e,t,n,r,a){var o;for(o in n)"children"===o||"key"===o||o in t||A(e,o,null,n[o],r);for(o in t)a&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||A(e,o,t[o],n[o],r)}(e,g,d,a,l),p)t.__k=[];else if(m=t.props.children,j(e,Array.isArray(m)?m:[m],t,n,r,a&&"foreignObject"!==h,o,s,o?o[0]:n.__k&&w(n,0),l),null!=o)for(m=o.length;m--;)null!=o[m]&&v(o[m]);l||("value"in g&&void 0!==(m=g.value)&&(m!==e.value||"progress"===h&&!m||"option"===h&&m!==d.value)&&A(e,"value",m,d.value,!1),"checked"in g&&void 0!==(m=g.checked)&&m!==e.checked&&A(e,"checked",m,d.checked,!1))}return e}(n.__e,t,n,r,a,o,l,u);(p=s.diffed)&&p(t)}catch(e){t.__v=null,(u||null!=o)&&(t.__e=c,t.__h=!!u,o[o.indexOf(c)]=null),s.__e(e,t,n)}}function M(e,t){s.__c&&s.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){s.__e(e,t.__v)}}))}function $(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){s.__e(e,n)}}function D(e,t,n){var r,a;if(s.unmount&&s.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||$(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){s.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&D(r[a],t,"function"!=typeof e.type);n||null==e.__e||v(e.__e),e.__e=e.__d=void 0}function z(e,t,n){return this.constructor(e,n)}function T(e,t,n){var r,a,o;s.__&&s.__(e,t),a=(r="function"==typeof n)?null:n&&n.__k||t.__k,o=[],I(t,e=(!r&&n||t).__k=_(b,null,[e]),a||f,f,void 0!==t.ownerSVGElement,!r&&n?[n]:a?null:t.firstChild?i.call(t.childNodes):null,o,!r&&n?n:a?a.__e:t.firstChild,r),M(o,e)}function U(e,t){var n={__c:t="__cC"+d++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(x)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}i=g.slice,s={__e:function(e,t,n,r){for(var a,o,i;t=t.__;)if((a=t.__c)&&!a.__)try{if((o=a.constructor)&&null!=o.getDerivedStateFromError&&(a.setState(o.getDerivedStateFromError(e)),i=a.__d),null!=a.componentDidCatch&&(a.componentDidCatch(e,r||{}),i=a.__d),i)return a.__E=a}catch(t){e=t}throw e}},l=0,k.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=m({},this.state),"function"==typeof e&&(e=e(m({},n),this.props)),e&&m(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),x(this))},k.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),x(this))},k.prototype.render=b,c=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,S.__r=0,d=0;const F={remove:e=>document.getElementById(e).outerHTML="",add:(e,t="alert-success",n=5e3)=>{if(!e)return;let r=document.createElement("DIV");r.id=F.hash(e),r.innerHTML=e,r.classList.add("global-alert","alert",t),document.body.appendChild(r),setTimeout((()=>F.remove(r.id)),n)},hash:e=>{let t=0;if(0==e.length)return t;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}};var H=F;const B={usage:()=>{let e,t=0;for(e in localStorage)Object.prototype.hasOwnProperty.call(localStorage,e)&&(t+=2*(localStorage[e].length+e.length));return t},createStorageBox:(e,t=null)=>({data:e,createdAt:Date.now(),metadata:t}),remove:e=>localStorage.removeItem(e),set:(e,t,n=null)=>(localStorage.setItem(e,JSON.stringify(B.createStorageBox(t,n))),Promise.resolve(e)),get:e=>{let t=localStorage.getItem(e);return null!=t&&(t=JSON.parse(t),Object.prototype.hasOwnProperty.call(t,"data"))?new Promise((e=>e(t.data))):new Promise((e=>e(null)))},reset:()=>localStorage.clear()&&window.dispatchEvent(new CustomEvent("resetStorage"))};var V=B;var q=(e=>{let t={},n={},r={dispatch(e,a){if("@dispatch"!==e&&r.dispatch("@dispatch",[e,a,t[e]]),t[e]){let o;t[e].forEach((i=>{let s=t[e].includes(i)&&i(n,a,r);s&&"function"!=typeof s.then&&(n={...n,...s},o={...o,...s})})),o&&r.dispatch("@changed",o)}},get:()=>n,on:(e,n)=>((t[e]||(t[e]=[])).push(n),()=>{t[e]=t[e].filter((e=>e!==n))})};return e.forEach((e=>{e&&e(r)})),r.dispatch("@init"),r})([e=>{e.on("@init",(()=>({api:{}}))),e.on("api/update",((e,t)=>({api:t})))},e=>{e.on("@init",(()=>({me:{}}))),e.on("me/update",((e,t)=>({me:t})))},e=>{e.on("@init",(()=>({route:"",id:"",action:"",backUrl:"",entityType:"",search:"",entity:{}}))),e.on("router/update",((e,t)=>({entity:t.entity,backUrl:t.backUrl})))},e=>{e.on("@init",(()=>({notifications:[]}))),e.on("notifications/update",((e,t=[])=>({notifications:t}))),e.on("notifications/remove",((e,t)=>({notifications:e.notifications.filter((e=>e.id!=t.id))})))},e=>{e.on("@init",(()=>({bookmarks:[]}))),e.on("bookmarks/update",((e,t=[])=>({bookmarks:t}))),e.on("bookmarks/remove",((e,t)=>(pr.delete(`/api/bookmarks/${t.id}`),{bookmarks:e.bookmarks.filter((e=>e.id!=t.id))}))),e.on("bookmark/add",((t,n)=>{pr.post("/api/bookmarks",{message:n}).then((n=>{e.dispatch("bookmarks/update",[...t.bookmarks,n])}))}))}]);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t,n){return t&&J(e.prototype,t),n&&J(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,t){return(Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}function X(e,t){if(t&&("object"===K(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return G(e)}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e){if(Array.isArray(e))return e}function re(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oe(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}function ie(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function se(e){return ne(e)||re(e)||oe(e)||ie()}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},pe=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W(this,e),this.init(t,n)}return Q(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||ue,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,ce(ce({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}}]),e}()),de=function(){function e(){W(this,e),this.observers={}}return Q(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var a=[].concat(this.observers[e]);a.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function fe(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function ge(e){return null==e?"":""+e}function he(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function me(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function a(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(a())return{};var i=r(o.shift());!e[i]&&n&&(e[i]=new n),e=Object.prototype.hasOwnProperty.call(e,i)?e[i]:{}}return a()?{}:{obj:e,k:r(o.shift())}}function ve(e,t,n){var r=me(e,t,Object);r.obj[r.k]=n}function _e(e,t){var n=me(e,t),r=n.obj,a=n.k;if(r)return r[a]}function ye(e,t,n){var r=_e(e,n);return void 0!==r?r:_e(t,n)}function be(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):be(e[r],t[r],n):e[r]=t[r]);return e}function ke(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var we={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Oe(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return we[e]})):e}var xe="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Se=[" ",",","?","!",";"];function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var a=ee(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return X(this,n)}}function Le(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),a=e,o=0;o<r.length;++o){if(!a)return;if("string"==typeof a[r[o]]&&o+1<r.length)return;if(void 0===a[r[o]]){for(var i=2,s=r.slice(o,o+i).join(n),l=a[s];void 0===l&&r.length>o+i;)i++,l=a[s=r.slice(o,o+i).join(n)];if(void 0===l)return;if(null===l)return null;if(t.endsWith(s)){if("string"==typeof l)return l;if(s&&"string"==typeof l[s])return l[s]}var c=r.slice(o+i).join(n);return c?Le(l,c,n):void 0}a=a[r[o]]}return a}}var Ee=function(e){Z(n,de);var t=Pe(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return W(this,n),r=t.call(this),xe&&de.call(G(r)),r.data=e||{},r.options=a,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return Q(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,i=[e,t];n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(i=e.split("."));var s=_e(this.data,i);return s||!o||"string"!=typeof n?s:Le(this.data&&this.data[e]&&this.data[e][t],n,a)}},{key:"addResource",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var i=[e,t];n&&(i=i.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(i=e.split("."))[1]),this.addNamespaces(t),ve(this.data,i,r),a.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var a in n)"string"!=typeof n[a]&&"[object Array]"!==Object.prototype.toString.apply(n[a])||this.addResource(e,t,a,n[a],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},i=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(i=e.split("."))[1]),this.addNamespaces(t);var s=_e(this.data,i)||{};r?be(s,n,a):s=Ce(Ce({},s),n),ve(this.data,i,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?Ce(Ce({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(),Ae={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,a){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,a))})),t}};function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var a=ee(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return X(this,n)}}var Me={},$e=function(e){Z(n,de);var t=Ie(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return W(this,n),r=t.call(this),xe&&de.call(G(r)),he(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,G(r)),r.options=a,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=pe.create("translator"),r}return Q(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,a=t.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,i=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=Se.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var a=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!a.test(e);if(!o){var i=e.indexOf(n);i>0&&!a.test(e.substring(0,i))&&(o=!0)}return o}(e,n,r));if(o&&!i){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:a};var l=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(l[0])>-1)&&(a=l.shift()),e=l.join(r)}return"string"==typeof a&&(a=[a]),{key:e,namespaces:a}}},{key:"translate",value:function(e,t,r){var a=this;if("object"!==K(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),l=s.key,c=s.namespaces,u=c[c.length-1],p=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&"cimode"===p.toLowerCase()){if(d){var f=t.nsSeparator||this.options.nsSeparator;return o?(g.res="".concat(u).concat(f).concat(l),g):"".concat(u).concat(f).concat(l)}return o?(g.res=l,g):l}var g=this.resolve(e,t),h=g&&g.res,m=g&&g.usedKey||l,v=g&&g.exactUsedKey||l,_=Object.prototype.toString.apply(h),y=["[object Number]","[object Function]","[object RegExp]"],b=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,w="string"!=typeof h&&"boolean"!=typeof h&&"number"!=typeof h;if(k&&h&&w&&y.indexOf(_)<0&&("string"!=typeof b||"[object Array]"!==_)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,h,Re(Re({},t),{},{ns:c})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return o?(g.res=O,g):O}if(i){var x="[object Array]"===_,S=x?[]:{},j=x?v:m;for(var C in h)if(Object.prototype.hasOwnProperty.call(h,C)){var P="".concat(j).concat(i).concat(C);S[C]=this.translate(P,Re(Re({},t),{joinArrays:!1,ns:c})),S[C]===P&&(S[C]=h[C])}h=S}}else if(k&&"string"==typeof b&&"[object Array]"===_)(h=h.join(b))&&(h=this.extendTranslation(h,e,t,r));else{var L=!1,E=!1,A=void 0!==t.count&&"string"!=typeof t.count,N=n.hasDefaultValue(t),R=A?this.pluralResolver.getSuffix(p,t.count,t):"",I=t["defaultValue".concat(R)]||t.defaultValue;!this.isValidLookup(h)&&N&&(L=!0,h=I),this.isValidLookup(h)||(E=!0,h=l);var M=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,$=M&&E?void 0:h,D=N&&I!==h&&this.options.updateMissing;if(E||L||D){if(this.logger.log(D?"updateKey":"missingKey",p,u,l,D?I:h),i){var z=this.resolve(l,Re(Re({},t),{},{keySeparator:!1}));z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var T=[],U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&U&&U[0])for(var F=0;F<U.length;F++)T.push(U[F]);else"all"===this.options.saveMissingTo?T=this.languageUtils.toResolveHierarchy(t.lng||this.language):T.push(t.lng||this.language);var H=function(e,n,r){var o=N&&r!==h?r:$;a.options.missingKeyHandler?a.options.missingKeyHandler(e,u,n,o,D,t):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(e,u,n,o,D,t),a.emit("missingKey",e,u,n,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?T.forEach((function(e){a.pluralResolver.getSuffixes(e,t).forEach((function(n){H([e],l+n,t["defaultValue".concat(n)]||I)}))})):H(T,l,I))}h=this.extendTranslation(h,e,t,g,r),E&&h===l&&this.options.appendNamespaceToMissingKey&&(h="".concat(u,":").concat(l)),(E||L)&&this.options.parseMissingKeyHandler&&(h="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(u,":").concat(l):l,L?h:void 0):this.options.parseMissingKeyHandler(h))}return o?(g.res=h,g):h}},{key:"extendTranslation",value:function(e,t,n,r,a){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,Re(Re({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(Re(Re({},n),{interpolation:Re(Re({},this.options.interpolation),n.interpolation)}));var i,s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var l=e.match(this.interpolator.nestingRegexp);i=l&&l.length}var c=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=Re(Re({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),s){var u=e.match(this.interpolator.nestingRegexp);i<(u&&u.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return a&&a[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):o.translate.apply(o,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var p=n.postProcess||this.options.postProcess,d="string"==typeof p?[p]:p;return null!=e&&d&&d.length&&!1!==n.applyPostProcessor&&(e=Ae.handle(d,e,t,this.options&&this.options.postProcessPassResolved?Re({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,a,o,i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!i.isValidLookup(t)){var l=i.extractFromKey(e,s),c=l.key;n=c;var u=l.namespaces;i.options.fallbackNS&&(u=u.concat(i.options.fallbackNS));var p=void 0!==s.count&&"string"!=typeof s.count,d=p&&!s.ordinal&&0===s.count&&i.pluralResolver.shouldUseIntlApi(),f=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,g=s.lngs?s.lngs:i.languageUtils.toResolveHierarchy(s.lng||i.language,s.fallbackLng);u.forEach((function(e){i.isValidLookup(t)||(o=e,!Me["".concat(g[0],"-").concat(e)]&&i.utils&&i.utils.hasLoadedNamespace&&!i.utils.hasLoadedNamespace(o)&&(Me["".concat(g[0],"-").concat(e)]=!0,i.logger.warn('key "'.concat(n,'" for languages "').concat(g.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach((function(n){if(!i.isValidLookup(t)){a=n;var o,l=[c];if(i.i18nFormat&&i.i18nFormat.addLookupKeys)i.i18nFormat.addLookupKeys(l,c,n,e,s);else{var u;p&&(u=i.pluralResolver.getSuffix(n,s.count,s));var g="".concat(i.options.pluralSeparator,"zero");if(p&&(l.push(c+u),d&&l.push(c+g)),f){var h="".concat(c).concat(i.options.contextSeparator).concat(s.context);l.push(h),p&&(l.push(h+u),d&&l.push(h+g))}}for(;o=l.pop();)i.isValidLookup(t)||(r=o,t=i.getResource(n,e,o,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:a,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),n}();function De(e){return e.charAt(0).toUpperCase()+e.slice(1)}var ze=function(){function e(t){W(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=pe.create("languageUtils")}return Q(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=De(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=De(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=De(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[],o=function(e){e&&(n.isSupportedCode(e)?a.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){a.indexOf(e)<0&&o(n.formatLanguageCode(e))})),a}}]),e}(),Te=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Ue={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},Fe=["v1","v2","v3"],He={zero:0,one:1,two:2,few:3,many:4,other:5};function Be(){var e={};return Te.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:Ue[t.fc]}}))})),e}var Ve=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W(this,e),this.languageUtils=t,this.options=n,this.logger=pe.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Be()}return Q(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return He[e]-He[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),a=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===a?a="plural":1===a&&(a=""));var o=function(){return n.options.prepend&&a.toString()?n.options.prepend+a.toString():a.toString()};return"v1"===this.options.compatibilityJSON?1===a?"":"number"==typeof a?"_plural_".concat(a.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!Fe.includes(this.options.compatibilityJSON)}}]),e}();function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var We=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W(this,e),this.logger=pe.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return Q(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:Oe,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?ke(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?ke(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?ke(t.nestingPrefix):t.nestingPrefixEscaped||ke("$t("),this.nestingSuffix=t.nestingSuffix?ke(t.nestingSuffix):t.nestingSuffixEscaped||ke(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var a,o,i,s=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(s.formatSeparator)<0){var a=ye(t,l,e);return s.alwaysFormat?s.format(a,void 0,n,Ke(Ke(Ke({},r),t),{},{interpolationkey:e})):a}var o=e.split(s.formatSeparator),i=o.shift().trim(),c=o.join(s.formatSeparator).trim();return s.format(ye(t,l,i),c,n,Ke(Ke(Ke({},r),t),{},{interpolationkey:i}))};this.resetRegExp();var p=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,d=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?c(s.escape(e)):c(e)}}].forEach((function(t){for(i=0;a=t.regex.exec(e);){var n=a[1].trim();if(void 0===(o=u(n)))if("function"==typeof p){var l=p(e,a,r);o="string"==typeof l?l:""}else if(r&&r.hasOwnProperty(n))o="";else{if(d){o=a[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=ge(o));var c=t.safeValue(o);if(e=e.replace(a[0],c),d?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=a[0].length):t.regex.lastIndex=0,++i>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Ke({},o);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),a="{".concat(r[1]);e=r[0],a=(a=this.interpolate(a,i)).replace(/'/g,'"');try{i=JSON.parse(a),t&&(i=Ke(Ke({},t),i))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(a)}return delete i.defaultValue,e}for(i.applyPostProcessor=!1,delete i.defaultValue;n=this.nestingRegexp.exec(e);){var l=[],c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),l=u,c=!0}if((r=t(s.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=ge(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),c&&(r=l.reduce((function(e,t){return a.format(e,t,o.lng,Ke(Ke({},o),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W(this,e),this.logger=pe.create("formatter"),this.options=t,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,Qe(Qe({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,Qe({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,Qe({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,Qe({},n)).format(e)}},this.init(t)}return Q(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"format",value:function(e,t,n,r){var a=this;return t.split(this.formatSeparator).reduce((function(e,t){var o=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var a=r[1].substring(0,r[1].length-1);"currency"===t&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):"relativetime"===t&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach((function(e){if(e){var t=se(e.split(":")),r=t[0],a=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[r.trim()]||(n[r.trim()]=a),"false"===a&&(n[r.trim()]=!1),"true"===a&&(n[r.trim()]=!0),isNaN(a)||(n[r.trim()]=parseInt(a,10))}}))}return{formatName:t,formatOptions:n}}(t),i=o.formatName,s=o.formatOptions;if(a.formats[i]){var l=e;try{var c=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},u=c.locale||c.lng||r.locale||r.lng||n;l=a.formats[i](e,u,Qe(Qe(Qe({},s),r),c))}catch(e){a.logger.warn(e)}return l}return a.logger.warn("there was no format function for ".concat(i)),e}),e)}}]),e}();function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var a=ee(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return X(this,n)}}var et=function(e){Z(n,de);var t=Xe(n);function n(e,r,a){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return W(this,n),o=t.call(this),xe&&de.call(G(o)),o.backend=e,o.store=r,o.services=a,o.languageUtils=a.languageUtils,o.options=i,o.logger=pe.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=i.maxParallelReads||10,o.readingCalls=0,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(a,i.backend,i),o}return Q(n,[{key:"queueLoad",value:function(e,t,n,r){var a=this,o={},i={},s={},l={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&a.store.hasResourceBundle(e,t)?a.state[s]=2:a.state[s]<0||(1===a.state[s]?void 0===i[s]&&(i[s]=!0):(a.state[s]=1,r=!1,void 0===i[s]&&(i[s]=!0),void 0===o[s]&&(o[s]=!0),void 0===l[t]&&(l[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),a=r[0],o=r[1];t&&this.emit("failedLoading",a,o,t),n&&this.store.addResourceBundle(a,o,n),this.state[e]=t?-1:2;var i={};this.queue.forEach((function(n){var r,s,l,c,u,p;r=n.loaded,s=o,c=me(r,[a],Object),u=c.obj,p=c.k,u[p]=u[p]||[],l&&(u[p]=u[p].concat(s)),l||u[p].push(s),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){i[e]||(i[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===i[e][t]&&(i[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",i),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,i=arguments.length>5?arguments[5]:void 0;return e.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:a,wait:o,callback:i}):(this.readingCalls++,this.backend[n](e,t,(function(s,l){if(s&&l&&a<5)setTimeout((function(){r.read.call(r,e,t,n,a+1,2*o,i)}),o);else{if(r.readingCalls--,r.waitingReads.length>0){var c=r.waitingReads.shift();r.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}i(s,l)}}))):i(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,a);if(!o.toLoad.length)return o.pending.length||a(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),a=r[0],o=r[1];this.read(a,o,"read",void 0,void 0,(function(r,i){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(a," failed"),r),!r&&i&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(a),i),t.loaded(e,r,i)}))}},{key:"saveMissing",value:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,Ze(Ze({},o),{},{isUpdate:a})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),n}();function tt(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===K(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===K(e[2])||"object"===K(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function nt(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var a=ee(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return X(this,n)}}function it(){}function st(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var lt=function(e){Z(n,de);var t=ot(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(W(this,n),e=t.call(this),xe&&de.call(G(e)),e.options=nt(r),e.services={},e.logger=pe,e.modules={external:[]},st(G(e)),a&&!e.isInitialized&&!r.isClone){if(!e.options.initImmediate)return e.init(r,a),X(e,G(e));setTimeout((function(){e.init(r,a)}),0)}return e}return Q(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=tt();function a(e){return e?"function"==typeof e?new e:e:null}if(this.options=at(at(at({},r),this.options),nt(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=at(at({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?pe.init(a(this.modules.logger),this.options):pe.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=Ge);var i=new ze(this.options);this.store=new Ee(this.options.resources,this.options);var s=this.services;s.logger=pe,s.resourceStore=this.store,s.languageUtils=i,s.pluralResolver=new Ve(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=a(o),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new We(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new et(a(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(s.languageDetector=a(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=a(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new $e(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=it),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var c=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];c.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var u=["addResource","addResources","addResourceBundle","removeResourceBundle"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var p=fe(),d=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),p.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),p}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it,r=n,a="string"==typeof e?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(a&&"cimode"===a.toLowerCase())return r();var o=[],i=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(a)i(a);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return i(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return i(e)})),this.services.backendConnector.load(o,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),r(e)}))}else r(null)}},{key:"reloadResources",value:function(e,t,n){var r=fe();return e||(e=this.languages),t||(t=this.options.ns),n||(n=it),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Ae.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=fe();this.emit("languageChanging",e);var a=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},o=function(o){e||o||!n.services.languageDetector||(o=[]);var i="string"==typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);i&&(n.language||a(i),n.translator.language||n.translator.changeLanguage(i),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(i)),n.loadResources(i,(function(e){!function(e,o){o?(a(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,i)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,a=function e(t,a){var o;if("object"!==K(a)){for(var i=arguments.length,s=new Array(i>2?i-2:0),l=2;l<i;l++)s[l-2]=arguments[l];o=r.options.overloadTranslationOptionHandler([t,a].concat(s))}else o=at({},a);o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns;var c=r.options.keySeparator||".",u=n?"".concat(n).concat(c).concat(t):t;return r.t(u,o)};return"string"==typeof e?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=n,a}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],a=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var i=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,i);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!i(r,e)||a&&!i(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=fe();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=fe();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],a=e.filter((function(e){return r.indexOf(e)<0}));return a.length?(this.options.preload=r.concat(a),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it,a=at(at(at({},this.options),t),{isClone:!0}),o=new n(a),i=["store","services","language"];return i.forEach((function(t){o[t]=e[t]})),o.services=at({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new $e(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(a,r),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}();te(lt,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new lt(e,t)}));var ct=lt.createInstance();ct.createInstance=lt.createInstance;ct.createInstance,ct.init,ct.loadResources,ct.reloadResources,ct.use,ct.changeLanguage,ct.getFixedT,ct.t,ct.exists,ct.setDefaultNamespace,ct.hasLoadedNamespace,ct.loadNamespaces,ct.loadLanguages;var ut=ct;const pt={get:()=>q.get()?.me,get data(){return q.get()?.me?.data},get lang(){return q.get()?.me?.data?.lang},get groups(){return q.get()?.me?.groups},get id(){return q.get()?.me?.id},get avatar(){return q.get()?.me?.avatar},getGroupName(e){let t=q.get().groups?.find((t=>t.id==e));return t?t.name:""},update:()=>or.get("/api/me",!0).then((e=>{if(e&&e?.id)return Promise.all(e.groups.map((e=>or.get(`/api/groups/${e.id}`).then((e=>e))))).then((t=>{e.groups=t,q.dispatch("me/update",Object.assign({loaded:!0},e))})),ut.changeLanguage(e?.data?.lang),e;q.dispatch("update",{})})),fetch:()=>q.get().loaded?new Promise((e=>e(q.get()))):pt.update(),reset(){q.dispatch("@init")},logout(){V.reset()}};var dt=pt,ft={},gt={};(gt=function(e){if(Array.isArray(e))return e}).__esModule=!0,gt.default=gt;var ht={};(ht=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}).__esModule=!0,ht.default=ht;var mt={},vt={};(vt=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}).__esModule=!0,vt.default=vt,(mt=function(e,t){if(e){if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vt(e,t):void 0}}).__esModule=!0,mt.default=mt;var _t={};(_t=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}).__esModule=!0,_t.default=_t,(ft=function(e,t){return gt(e)||ht(e,t)||mt(e,t)||_t()}).__esModule=!0,ft.default=ft;var yt={};(yt=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}).__esModule=!0,yt.default=yt;var bt,kt,wt,Ot,xt=0,St=[],jt=[],Ct=s.__b,Pt=s.__r,Lt=s.diffed,Et=s.__c,At=s.unmount;function Nt(e,t){s.__h&&s.__h(kt,e,xt||t),xt=0;var n=kt.__H||(kt.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:jt}),n.__[e]}function Rt(e){return xt=1,It(Kt,e)}function It(e,t,n){var r=Nt(bt++,2);return r.t=e,r.__c||(r.__=[n?n(t):Kt(void 0,t),function(e){var t=r.t(r.__[0],e);r.__[0]!==t&&(r.__=[t,r.__[1]],r.__c.setState({}))}],r.__c=kt),r.__}function Mt(e,t){var n=Nt(bt++,3);!s.__s&&qt(n.__H,t)&&(n.__=e,n.u=t,kt.__H.__h.push(n))}function $t(e,t){var n=Nt(bt++,4);!s.__s&&qt(n.__H,t)&&(n.__=e,n.u=t,kt.__h.push(n))}function Dt(e){return xt=5,zt((function(){return{current:e}}),[])}function zt(e,t){var n=Nt(bt++,7);return qt(n.__H,t)?(n.__V=e(),n.u=t,n.__h=e,n.__V):n.__}function Tt(e,t){return xt=8,zt((function(){return e}),t)}function Ut(e){var t=kt.context[e.__c],n=Nt(bt++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(kt)),t.props.value):e.__}function Ft(){for(var e;e=St.shift();)if(e.__P)try{e.__H.__h.forEach(Bt),e.__H.__h.forEach(Vt),e.__H.__h=[]}catch(t){e.__H.__h=[],s.__e(t,e.__v)}}s.__b=function(e){kt=null,Ct&&Ct(e)},s.__r=function(e){Pt&&Pt(e),bt=0;var t=(kt=e.__c).__H;t&&(wt===kt?(t.__h=[],kt.__h=[],t.__.forEach((function(e){e.__V=jt,e.u=void 0}))):(t.__h.forEach(Bt),t.__h.forEach(Vt),t.__h=[])),wt=kt},s.diffed=function(e){Lt&&Lt(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==St.push(t)&&Ot===s.requestAnimationFrame||((Ot=s.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),Ht&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Ht&&(t=requestAnimationFrame(n))})(Ft)),t.__H.__.forEach((function(e){e.u&&(e.__H=e.u),e.__V!==jt&&(e.__=e.__V),e.u=void 0,e.__V=jt}))),wt=kt=null},s.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Bt),e.__h=e.__h.filter((function(e){return!e.__||Vt(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],s.__e(n,e.__v)}})),Et&&Et(e,t)},s.unmount=function(e){At&&At(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{Bt(e)}catch(e){t=e}})),t&&s.__e(t,n.__v))};var Ht="function"==typeof requestAnimationFrame;function Bt(e){var t=kt,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),kt=t}function Vt(e){var t=kt;e.__c=e.__(),kt=t}function qt(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function Kt(e,t){return"function"==typeof t?t(e):t}function Wt(e,t){for(var n in t)e[n]=t[n];return e}function Jt(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function Qt(e){this.props=e}(Qt.prototype=new k).isPureReactComponent=!0,Qt.prototype.shouldComponentUpdate=function(e,t){return Jt(this.props,e)||Jt(this.state,t)};var Gt=s.__b;s.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Gt&&Gt(e)};var Yt="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Zt(e){function t(t){var n=Wt({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=Yt,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var Xt=function(e,t){return null==e?null:P(P(e).map(t))},en={map:Xt,forEach:Xt,count:function(e){return e?P(e).length:0},only:function(e){var t=P(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:P},tn=s.__e;s.__e=function(e,t,n,r){if(e.then)for(var a,o=t;o=o.__;)if((a=o.__c)&&a.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),a.__c(e,t);tn(e,t,n,r)};var nn=s.unmount;function rn(){this.__u=0,this.t=null,this.__b=null}function an(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function on(){this.u=null,this.o=null}s.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),nn&&nn(e)},(rn.prototype=new k).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var a=an(r.__v),o=!1,i=function(){o||(o=!0,n.__R=null,a?a(s):s())};n.__R=i;var s=function(){if(!--r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)})),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},l=!0===t.__h;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(i,i)},rn.prototype.componentWillUnmount=function(){this.t=[]},rn.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=Wt({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)}))),t}(this.__b,n,r.__O=r.__P)}this.__b=null}var a=t.__a&&_(b,null,e.fallback);return a&&(a.__h=null),[_(b,null,t.__a?null:e.children),a]};var sn=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(on.prototype=new k).__a=function(e){var t=this,n=an(t.__v),r=t.o.get(e);return r[0]++,function(a){var o=function(){t.props.revealOrder?(r.push(a),sn(t,e,r)):a()};n?n(o):o()}},on.prototype.render=function(e){this.u=null,this.o=new Map;var t=P(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},on.prototype.componentDidUpdate=on.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){sn(e,n,t)}))};var ln="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,cn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|shape|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,un="undefined"!=typeof document;k.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(k.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var pn=s.event;function dn(){}function fn(){return this.cancelBubble}function gn(){return this.defaultPrevented}s.event=function(e){return pn&&(e=pn(e)),e.persist=dn,e.isPropagationStopped=fn,e.isDefaultPrevented=gn,e.nativeEvent=e};var hn={configurable:!0,get:function(){return this.class}},mn=s.vnode;s.vnode=function(e){var t,n=e.type,r=e.props,a=r;if("string"==typeof n){var o=-1===n.indexOf("-");for(var i in a={},r){var s=r[i];un&&"children"===i&&"noscript"===n||"value"===i&&"defaultValue"in r&&null==s||("defaultValue"===i&&"value"in r&&null==r.value?i="value":"download"===i&&!0===s?s="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+n)&&(t=r.type,!("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(t))?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():o&&cn.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===s&&(s=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),a[i]&&(i="oninputCapture")),a[i]=s)}"select"==n&&a.multiple&&Array.isArray(a.value)&&(a.value=P(r.children).forEach((function(e){e.props.selected=-1!=a.value.indexOf(e.props.value)}))),"select"==n&&null!=a.defaultValue&&(a.value=P(r.children).forEach((function(e){e.props.selected=a.multiple?-1!=a.defaultValue.indexOf(e.props.value):a.defaultValue==e.props.value}))),e.props=a,r.class!=r.className&&(hn.enumerable="className"in r,null!=r.className&&(a.class=r.className),Object.defineProperty(a,"className",hn))}e.$$typeof=ln,mn&&mn(e)};var vn=s.__r;s.__r=function(e){vn&&vn(e),e.__c};function _n(e){return!!e&&e.$$typeof===ln}var yn={};(yn=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}).__esModule=!0,yn.default=yn;var bn={};function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(bn=function(e,t,n){return t&&kn(e.prototype,t),n&&kn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}).__esModule=!0,bn.default=bn;var wn=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g,On={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'},xn=function(e){return On[e]};function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jn(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Sn(Object(r),!0).forEach((function(n){t(yt)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Cn,Pn={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(wn,xn)}},Ln=U();function En(){return Pn}var An=function(){function e(){t(yn)(this,e),this.usedNamespaces={}}return t(bn)(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function Nn(){return Cn}var Rn={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Pn=jn(jn({},Pn),e)}(e.options.react),function(e){Cn=e}(e)}};function In(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var Mn={};function $n(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&Mn[t[0]]||("string"==typeof t[0]&&(Mn[t[0]]=new Date),In.apply(void 0,t))}function Dn(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function zn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.languages[0],a=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var i=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(r,e)||(!(t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages))||!(!i(r,e)||a&&!i(o,e))))}function Tn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return $n("i18n.languages were undefined or empty",t.languages),!0;var r=void 0!==t.options.ignoreJSONStructure;return r?t.hasLoadedNamespace(e,{precheck:function(t,r){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):zn(e,t,n)}function Un(e){return e.displayName||e.name||("string"==typeof e&&e.length>0?e:"Unknown")}function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hn(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Fn(Object(r),!0).forEach((function(n){t(yt)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Bn=function(e,t){var n=Dt();return Mt((function(){n.current=t?n.current:e}),[e,t]),n.current};function Vn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.i18n,a=Ut(Ln)||{},o=a.i18n,i=a.defaultNS,s=r||o||Nn();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new An),!s){$n("You will need to pass in an i18next instance by using initReactI18next");var l=function(e){return Array.isArray(e)?e[e.length-1]:e},c=[l,{},!1];return c.t=l,c.i18n={},c.ready=!1,c}s.options.react&&void 0!==s.options.react.wait&&$n("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var u=Hn(Hn(Hn({},En()),s.options.react),n),p=u.useSuspense,d=u.keyPrefix,f=e||i||s.options&&s.options.defaultNS;f="string"==typeof f?[f]:f||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(f);var g=(s.isInitialized||s.initializedStoreOnce)&&f.every((function(e){return Tn(e,s,u)}));function h(){return s.getFixedT(null,"fallback"===u.nsMode?f:f[0],d)}var m=Rt(h),v=t(ft)(m,2),_=v[0],y=v[1],b=f.join(),k=Bn(b),w=Dt(!0);Mt((function(){var e=u.bindI18n,t=u.bindI18nStore;function n(){w.current&&y(h)}return w.current=!0,g||p||Dn(s,f,(function(){w.current&&y(h)})),g&&k&&k!==b&&w.current&&y(h),e&&s&&s.on(e,n),t&&s&&s.store.on(t,n),function(){w.current=!1,e&&s&&e.split(" ").forEach((function(e){return s.off(e,n)})),t&&s&&t.split(" ").forEach((function(e){return s.store.off(e,n)}))}}),[s,b]);var O=Dt(!0);Mt((function(){w.current&&!O.current&&y(h),O.current=!1}),[s]);var x=[_,s,g];if(x.t=_,x.i18n=s,x.ready=g,g)return x;if(!g&&!p)return x;throw new Promise((function(e){Dn(s,f,(function(){e()}))}))}var qn={},Kn={};(Kn=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}).__esModule=!0,Kn.default=Kn,(qn=function(e,t){if(null==e)return{};var n,r,a=Kn(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}).__esModule=!0,qn.default=qn;var Wn=["forwardedRef"];function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qn(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Jn(Object(r),!0).forEach((function(n){t(yt)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){function a(a){var o=a.forwardedRef,i=t(qn)(a,Wn),s=Vn(e,Qn(Qn({},i),{},{keyPrefix:n.keyPrefix})),l=t(ft)(s,3),c=l[0],u=l[1],p=l[2],d=Qn(Qn({},i),{},{t:c,i18n:u,tReady:p});return n.withRef&&o?d.ref=o:!n.withRef&&o&&(d.forwardedRef=o),_(r,d)}a.displayName="withI18nextTranslation(".concat(Un(r),")"),a.WrappedComponent=r;return n.withRef?Zt((function(e,t){return _(a,Object.assign({},e,{forwardedRef:t}))})):a}}var Yn;Yn=JSON.parse('{"previous_coms":"See previous comments","next_coms":"See next comments","ago":"{{duration}} ago","groups":"Groups","login_placeholder":"email","password_placeholder":"password","new_password_placeholder":"new password","confirm_password_placeholder":"confirm password","connect":"Connection","submit":"Submit","title_placeholder":"Title of your message (optional)","text_placeholder":"Write your message here","upload_image":"Add photos","upload_video":"Add videos","upload_music":"Add musics","upload_pdf":"Add pdf","add_date":"Add a date","logout":"Logout","settings":"Settings","name":"Name","name_input":"Choose a name","login":"Login","login_input":"Choose a login","email":"Email","email_input":"Fill in your email here","save_changes":"Save changes","password":"Password","password_input":"Write a new password here","Invalid login/password":"Invalid login and/or password","edit":"Edit","delete":"Delete","ask_delete_message":"Are you sure to delete this message?","account":"Account","forgot_password":"Did you forget your password?","password_reset_mail_sent":"The password reset email was sent !","User not found":"User not found","reset_password_title":"Reset your password","error":"An error occurred","passwords_dont_match":"Passwords don\'t match","invitation_link":"Invitation link","reset_invitation_link":"Reset invitation link","invitation_welcome":"Welcome on Zusam ! Please sign up before joining the group.","signup":"Sign up","create_a_group":"Create a group","create_the_group":"Create the group","quit_group":"Leave the group","settings_updated":"Your settings were updated","group_updated":"The group was updated !","group_left":"You left the group !","multiple_photos_upload":"An error ocurred. Try uploading images one by one (this can happen in some browsers)","error_new_message":"An error occurred while sending your message","error_upload":"An error occurred during the upload","cancel_write":"Do you really want to cancel writing a new message?","empty_message":"The message is empty and cannot be sent !","cancel":"Cancel","just_now":"Just now","notification_emails":"Email notifications","none":"None","hourly":"Hourly","daily":"Daily","weekly":"Weekly","monthly":"Monthly","notification_emails_stopped":"Email notifications stopped !","group_share_choice":"To which group do you want to send this message?","public_link":"public link","default_group":"Default group","destroy_account":"Delete your account","destroy_account_explain":"Once you delete your account, there is no going back. Please be certain.","are_you_sure":"Are you sure?","share_message":"share the message","users":"users","has_posted_in":"has posted in","has_commented_on":"has commented on","has_joined":"has joined","has_left":"has left","the_message_from":"the message from","in":"in","lang":"language","reply":"reply","replies_one":"{{count}} reply","replies_other":"{{count}} replies","publish_in_group":"publish in the group","search_in_group":"search in this group","changed_group_name":"changed the group\'s name","to":"to","notifications":"notifications","mark_all_as_read":"mark all as read","search_without_result":"Your search did not match any message.","add_bookmark":"Bookmark message","remove_bookmark":"Unbookmark message","bookmarks":"bookmarks","api_key":"API key","reset_api_key":"Reset the API key (you will be disconnected)","video_not_ready":"Video is not ready yet.","bookmark_added":"Message added to bookmarks !","bookmark_removed":"Message removed from bookmarks !","parent_message":"Parent message"}');var Zn;Zn=JSON.parse('{"previous_coms":"Voir les commentaires précédents","next_coms":"Voir les commentaires suivants","ago":"Il y a {{duration}}","groups":"Groupes","login_placeholder":"email","password_placeholder":"mot de passe","new_password_placeholder":"nouveau mot de passe","confirm_password_placeholder":"confirmez le mot de passe","connect":"Connexion","submit":"Envoyer","title_placeholder":"Titre de votre message (optionnel)","text_placeholder":"Ecrivez votre message ici","upload_image":"Ajouter des photos","upload_video":"Ajouter des vidéos","upload_music":"Ajouter des musiques","upload_pdf":"Ajouter un pdf","add_date":"Préciser une date","logout":"Se déconnecter","settings":"Paramètres","name":"Nom","name_input":"Choisissez un nom","login":"Identifiant","login_input":"Choisissez un identifiant","email":"Email","email_input":"Renseignez votre adresse mail ici","save_changes":"Sauvegarder les changements","password":"Mot de passe","password_input":"Entrez un nouveau mot de passe","Invalid login/password":"Identifiant et/ou mot de passe invalide","edit":"Editer","delete":"Supprimer","ask_delete_message":"Êtes-vous sûr de vouloir supprimer ce message ?","account":"Compte","forgot_password":"Mot de passe oublié ?","password_reset_mail_sent":"Le mail de réinitialisation a bien été envoyé !","User not found":"Utilisateur inexistant","reset_password_title":"Réinitialisation de votre mot de passe","error":"Une erreur est survenue. Veuillez réessayer.","passwords_dont_match":"Les mots de passe ne sont pas identiques !","invitation_link":"Lien d\'invitation","reset_invitation_link":"Réinitialiser le lien d\'invitation","invitation_welcome":"Bienvenue sur Zusam ! Veuillez vous inscrire avant de rejoindre le groupe.","signup":"S\'inscrire","create_a_group":"Créer un groupe","create_the_group":"Créer le groupe","quit_group":"Quitter le groupe","settings_updated":"Vos préférences ont été mises à jour !","group_updated":"Le groupe a été mis à jour !","group_left":"Vous avez quitté le groupe !","multiple_photos_upload":"Une erreur est survenue. Veuillez essayer avec une seule photo (certains navigateurs bloquent l\'ajout de plusieurs photos en simultané).","error_new_message":"Une erreur inconnue est survenue pendant l\'envoi de votre message.","error_upload":"Une erreur s\'est produite pendant l\'envoi.","cancel_write":"Voulez-vous annuler l\'écriture d\'un nouveau message ?","empty_message":"Le message est vide !","cancel":"Annuler","just_now":"A l\'instant","notification_emails":"Mail de notification","none":"Aucun","hourly":"Une fois par heure","daily":"Journalier","weekly":"Hebdomadaire","monthly":"Mensuel","notification_emails_stopped":"Notifications par email désactivées !","group_share_choice":"A quel groupe voulez-vous envoyer ce message ?","public_link":"lien public","default_group":"Groupe par défaut","destroy_account":"Supprimer votre compte","destroy_account_explain":"Une fois votre compte supprimé, il sera impossible d\'annuler l\'opération.","are_you_sure":"Etes-vous sûr ?","share_message":"partager le message","users":"utilisateurs","has_posted_in":"a posté dans","has_commented_on":"a commenté","has_joined":"a rejoint","has_left":"a quitté","the_message_from":"le message de","in":"dans","lang":"langue","reply":"répondre","replies_one":"{{count}} réponse","replies_other":"{{count}} réponses","publish_in_group":"promouvoir le message","search_in_group":"rechercher dans le groupe","changed_group_name":"a changé le nom du groupe","to":"en","notifications":"notifications","mark_all_as_read":"tout marquer comme lu","search_without_result":"Votre recherche ne correspond à aucun message.","add_bookmark":"Ajouter aux marque-pages","remove_bookmark":"Supprimer des marque-pages","bookmarks":"marque-pages","api_key":"Clef d\'API","reset_api_key":"Changer votre clef d\'API (vous allez être déconnecté)","video_not_ready":"La vidéo n\'est pas encore prête.","bookmark_added":"Message ajouté aux marque-pages !","bookmark_removed":"Message supprimé des marque-pages !","parent_message":"Message parent"}');var Xn;Xn=JSON.parse('{"previous_coms":"Ver los comentarios anteriores","next_coms":"Ver los siguientes comentarios","ago":"Hace {{duration}}","groups":"Grupos","login_placeholder":"correo","password_placeholder":"contraseña","new_password_placeholder":"nueva contraseña","confirm_password_placeholder":"confirmar contraseña","connect":"Conectarse","submit":"Enviar","title_placeholder":"Asunto (opcional)","text_placeholder":"Escribe tu mensaje aquí","upload_image":"Añadir fotos","upload_video":"Añadir videos","upload_music":"Añadir música","upload_pdf":"Añadir pdf","add_date":"Añadir una fecha","logout":"Desconectarse","settings":"Parámetros","name":"Nombre","name_input":"Elige un nombre","login":"Usuario","login_input":"Elige un usuario","email":"Correo","email_input":"Indicar correo electrónico","save_changes":"Guardar los cambios","password":"Contraseña","password_input":"Indicar una nueva contraseña","Invalid login/password":"Usuario o contraseña incorrecto","edit":"Editar","delete":"Borrar","ask_delete_message":"¿Quieres borrar este mensaje?","account":"Cuenta","forgot_password":"¿Olvidaste tu contraseña?","password_reset_mail_sent":"El correo ha sido enviado!","User not found":"El usuario no existe","reset_password_title":"Cambia tu contraseña","error":"Un error ocurrió. Vuelve a intentar.","passwords_dont_match":"Las contraseñas no coinciden","invitation_link":"Enlace de invitación","reset_invitation_link":"Cambiar el enlace de invitación","invitation_welcome":"Bienvenido a Zusam ! Inscribete para conectarte con un grupo.","signup":"Inscribirse","create_a_group":"Crear un grupo","create_the_group":"Crear el grupo","quit_group":"Dejar el grupo","settings_updated":"Tus preferencias han sido actualizadas!","group_updated":"El grupo ha sido actualizado!","group_left":"Has abandonado el grupo","multiple_photos_upload":"Un error ocurrió. Vuelve a intentar con solo una foto (algunos navegadores impiden añadir varias fotos al mismo tiempo).","error_new_message":"Un error desconocido ocurrió durante el envío del mensaje.","error_upload":"Un error ocurrió durante el envío.","cancel_write":"¿Quieres cancelar este nuevo mensaje?","empty_message":"No hay mensaje!","cancel":"Cancelar","just_now":"Ahora","notification_emails":"Correo de notificación","none":"Ninguno","hourly":"Cada hora","daily":"Diario","weekly":"Semanal","monthly":"Mensual","notification_emails_stopped":"Notificaciones de correo electrónico detenidas!","group_share_choice":"¿A qué grupo desea enviar este mensaje?","public_link":"enlace público","default_group":"Grupo predeterminado","destroy_account":"Borrar la cuenta","destroy_account_explain":"Una vez que elimines tu cuenta, no hay vuelta atrás.","are_you_sure":"Estás seguro ?","share_message":"comparte el mensaje","users":"usuarios","has_posted_in":"ha publicado en","has_commented_on":"ha comentado","has_joined":"se has unido","has_left":"ha dejado","the_message_from":"el mensaje de","in":"en","lang":"idioma","reply":"responder","replies_one":"{{count}} respuesta","replies_other":"{{count}} respuestas","publish_in_group":"publicar en el grupo","search_in_group":"buscar en este grupo","changed_group_name":"cambió el nombre del grupo","to":"a","notifications":"notificaciones","mark_all_as_read":"marcar todo como leido","search_without_result":"Su búsqueda no coincide con ningún mensaje.","add_bookmark":"Marcar este mensaje","remove_bookmark":"Desmarcar este mensaje","bookmarks":"marcadores","api_key":"Clave API","reset_api_key":"Restablecer la clave API (se desconectará)","video_not_ready":"El video aún no está listo","bookmark_added":"Mensaje agregado a marcadores !","bookmark_removed":"Mensaje eliminado de los marcadores !","parent_message":"Mensaje para padres"}');var er;er=JSON.parse('{"previous_coms":"Pozri predchádzajúce komentáre","next_coms":"Pozri nasledujúce komentáre","ago":"{{duration}} späť","groups":"Skupiny","login_placeholder":"email","password_placeholder":"heslo","new_password_placeholder":"nové heslo","confirm_password_placeholder":"potvrdiť heslo","connect":"Connection","submit":"Odoslať","title_placeholder":"Nadpis vášho príspevku (nie je povinné)","text_placeholder":"Tu napíš príspevok","upload_image":"Pridať fotografie","upload_video":"Pridať videá","upload_music":"Pridať hudbu","upload_pdf":"Pridať pdf","add_date":"Pridať dátum","logout":"Odhlásiť","settings":"Nastavenia","name":"Meno","name_input":"Zvoľ si nejaké meno","login":"Login","login_input":"Zvoľ si nejaké prihlasovacie meno","email":"Email","email_input":"Napíš tvoj email sem","save_changes":"Uložiť zmeny","password":"Heslo","password_input":"Tu napíš heslo","Invalid login/password":"Nesprávny login alebo heslo","edit":"Upraviť","delete":"Zmazať","ask_delete_message":"Si si istý, že chceš zmazať tento príspevok?","account":"Účet","forgot_password":"Zabudol si svoje heslo?","password_reset_mail_sent":"Email s informáciami o nastavení nového hesla bol odoslaný!","User not found":"Neexistujúci užívateľ","reset_password_title":"Zmena hesla","error":"Chyba","passwords_dont_match":"Heslá sa nezhodujú","invitation_link":"Pozývací odkaz","reset_invitation_link":"Reset invitation link","invitation_welcome":"Vitajte v Zusam ! Zaregistrujte sa pred pripojením sa ku skupine.","signup":"Prihlásiť","create_a_group":"Vytvoriť skupinu","create_the_group":"Vytvoriť skupinu","quit_group":"Opustiť skupinu","settings_updated":"Vaše nastavenia boli zmenené","group_updated":"Nastavenia skupiny boli zmenené","group_left":"Opustili ste skupinu","multiple_photos_upload":"Objavila sa chyba. Skúste priložiť obrázky po jednom (táto chyba sa môže objavovať v niektorých prehliadačoch)","error_new_message":"Pri odosielaní príspevku sa objavila chyba","error_upload":"Objavila sa chyba počas odosielania","cancel_write":"Chcete naozaj zrušiť vytváranie nového príspevku?","empty_message":"Prázdna správa nemôže byť odoslaná","cancel":"Zrušiť","just_now":"Práve teraz","notification_emails":"Notifikačný email","none":"Žiadne","hourly":"Každú hodinu","daily":"Denne","weekly":"Týždenne","monthly":"Mesačne","notification_emails_stopped":"E-mailové upozornenia sa zastavili!","group_share_choice":"Do ktorej skupiny chcete odoslať túto správu ?","public_link":"verejné spojenie","default_group":"Predvolenú skupinu","destroy_account":"Odstráňte svoj účet","destroy_account_explain":"Po odstránení účtu sa už nevráti","are_you_sure":"Si si istý ?","share_message":"zdieľajte správu","users":"užívatelia","has_posted_in":"zverejnila v","has_commented_on":"komentoval","has_joined":"sa pripojil k","has_left":"opustil","the_message_from":"správa od","in":"v","lang":"jazyk","reply":"odpoveď","replies_one":"{{count}} odpoveď","replies_other":"{{count}} odpovedí","publish_in_group":"publikovať v skupine","search_in_group":"hľadať v tejto skupine","changed_group_name":"zmenil názov skupiny","to":"na","notifications":"oznámenia","mark_all_as_read":"označiť všetko ako prečítané","search_without_result":"Vášmu vyhľadávaniu nezodpovedá žiadna správa","add_bookmark":"Túto správu uložiť medzi záložky","remove_bookmark":"Zrušte označenie tejto správy","bookmarks":"záložky","api_key":"Kľúč API","reset_api_key":"Obnovte kľúč rozhrania API (budete odpojení)","video_not_ready":"Video ešte nie je pripravené","bookmark_added":"Správa pridaná do záložiek !","bookmark_removed":"Správa bola odstránená zo záložiek !","parent_message":"Správa rodiča"}');const tr={possibleLang:{en:"English",es:"Español",fr:"Français",sk:"Slovenský"},getDefaultLang:()=>(document.querySelector("meta[name='zusam:default-lang']")||{}).content||"en",getCurrentLang:()=>dt.lang||tr.getDefaultLang()};ut.use(Rn).init({resources:{en:{translation:t(Yn)},fr:{translation:t(Zn)},sk:{translation:t(er)},es:{translation:t(Xn)}},lng:tr.getCurrentLang(),fallbackLng:tr.getDefaultLang(),interpolation:{escapeValue:!1}});const nr={isValidUrl:e=>{try{return new URL(e),!0}catch(e){return!1}},limitLength:(e,t=20)=>[...e.split("").slice(0,Math.floor(t/2)),e.length>t?"...":"",...e.split("").slice(Math.floor(t/2)).slice(-1*Math.floor(t/2))].join(""),escapeRegex:e=>e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),getSubpath:()=>new URL(document.baseURI).pathname.replace(/\/$/,""),toApp:e=>e&&"string"==typeof e?nr.isValidUrl(e)?e:location.origin+nr.getSubpath()+e:"",genId:e=>`z${e||""}-${Date.now().toString().slice(-5)}${Math.random().toString().slice(-5)}`,id2Int:e=>parseInt(e.replace(/[^\d]/g,""),10),urlRegExp:/(\([^()]*)?https?:\/\/[^[\]\n\r ]*[-A-Za-z0-9+&@#/%=~_()|]/i,getUrl:e=>{if(!e)return"";let t=e.match(nr.urlRegExp);if(t&&t[0].startsWith("(")){let e=t[0].match(/https?:\/\//i);t.index+=e.index,t[0]=t[0].slice(e.index),t[0].endsWith(")")&&(t[0]=t[0].slice(0,-1))}return t},limitStrSize:(e,t)=>e.length>t?`${e.slice(0,t-3)}...`:e,humanFullDate:e=>{if(!e)return"";let t=new Date(1e3*e);return t=new Date(t.getTime()+-6e4*t.getTimezoneOffset()),t.toISOString().replace("T"," ").replace(/\..*$/,"")},humanTime:e=>{if(!e)return null;const t=Math.abs(Math.round((Date.now()/1e3-e)/60));return t<1?ut.t("just_now"):t<60?ut.t("ago",{duration:`${t}mn`}):t<1440?ut.t("ago",{duration:`${Math.floor(t/60)}h`}):nr.humanFullDate(e).split(" ")[0]},getId:e=>{switch(typeof e){case"object":return e?e.id:null;case"string":return e.split("/").pop().replace(/\?.*$/,"").replace(/\.\w+$/,"");default:throw console.error(e),"Could not extract id !"}},thumbnail:(e,t,n)=>"string"!=typeof e||e.startsWith("z")?null:nr.toApp(`/api/images/thumbnail/${t}/${n}/${e}`),crop:(e,t,n)=>"string"!=typeof e||e.startsWith("z")?null:nr.toApp(`/api/images/crop/${t}/${n}/${e}`),defaultAvatar:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlMA/iyWEiMAAAMJSURBVHja7ZtBjpwwEEWxmIhFFmiURZZEyi6HCLkZHCXr2eQKHIUjoEiRSGRRiWB6klaDU/hDF4z+W6LuNz3+ZRvbkCSEEEIIIYQQQgghhBBCCCGEEEIIITvwGfy+kxoTpNJigkw6TJBLjwkK8ZiglMFYUInAAqwQRKRBBR0q8FhXEKwVR0GLCvxCjeo6oyzkoIxnEvj5661acPO3yvFqpxdcV+Pj88VeNZ7cGB4ul1QFkv399KT4KBIpmGEwF4i9oL6DIN/3FzToL2ju8AvsBeE2aNFfQMFJBCkF0/R+bkHyCgSVuaDcVaC5zyvMBTkqyHYVaBZDKSpw5oJgLcMC5doXFBSoIMNutjcQBHJULmlhQYUKlmNQbs9kqGC5P2o3FqBBOVjMWkEOdcZQKam3dyqkkgP/g35zxmEpLhbjir0ZFz2tXHgbPR5deI+EMPKmig/hhU/fIkOYL4iYDbIyqpCXajp2Zy4yhNuxqUfbMCaEIraQZ9swJgQBQ0jBQr6eYXrzQrYIYdtC9uaFbDKayJajyTkL+VijyWA+mnBajGpDeFrMzAu5BNvwKoQBDaFHQ+jQEBo0hBoMYUBD8GgIHRpCi44mcAiJRQhoITvzQs63LGQxL2SOJnEhiHUI296bwNOixb1JYr5kz8yX7Odf6XDfBC9kd6yVzq+np69QIY/8AEJ45kt0T4hIM0VONm5CiLlVhLflS+CwdTGEVa2AnfOFTogaVAAfcg1QivpqzLFHD4LnrR0q8FAhqlux3PPUu0EFLSrooL6kLeaQwKMCTY4OfUjVoY+IOvTxSFiw81NtnbmgRwXeXDAg08IxBPIKBPX5BQ0FBxC0+wtSCg4gcBT853nruwiqfQXNHQT/LDiGD9Old6sEL2umn3MtqxDks9NotVbwfaG+FDfL6fznsjV32365cTXrtqoPdJKYrbmreIDvT42DCMYoIUEu4FvIKSpwgr6JvYEAfJm8QgUl+j58gb6Rn4Nvcv/p0jUmcODr8IQQQgghhBBCCCGEEEIIIYQQQgghs/wGp6uYgtiKODIAAAAASUVORK5CYII=",hash:e=>e.split("").reduce(((e,t)=>(e<<5)-e+t.charCodeAt()|0)),colorHash:e=>["#000000","#333366","#333399","#3333CC","#339933","#339999","#33CC33","#33CC99","#663333","#663366","#666633","#666699","#66CC33","#66CCCC","#993333","#993366","#993399","#996633","#999966","#CC3333","#CC3366","#CC3399","#CC33CC","#CC6633","#CC9933","#CC99CC","#CCCC33"][Math.abs(nr.hash(e))%27],backgroundHash:e=>{if(!e)return"background-color: #aaa;";let t=nr.colorHash(e),n=nr.colorHash(e.split("").reverse().join("."));return`background-color:${t};background-image:linear-gradient(${Math.abs(nr.hash(e))%4*45}deg, ${n} 15%, transparent 15% 30%, ${n} 30% 45%, transparent 45% 60%, ${n} 60% 75%, transparent 75% 90%, ${n} 90%);`},is_it_enter:e=>13==e.keyCode||10==e.keyCode||"Enter"==e.key||"↵"==e.key||"Enter"==e.code,getVersion:()=>(document.querySelector("meta[name='zusam:version']")||{}).content||"unknown"};var rr=nr;const ar={sendFile:(e,t,n=null,r=null)=>V.get("apiKey").then((a=>{let o=new XMLHttpRequest;o.open("POST",`${document.baseURI}api/files`,!0),o.setRequestHeader("X-AUTH-TOKEN",a),o.addEventListener("load",(e=>{e.target.status>199&&e.target.status<300?t(JSON.parse(e.target.response)):r?r(e.target.statusText):console.error(e.target.statusText)})),n&&(o.upload.onprogress=e=>n({loaded:e.loaded,total:e.total})),r&&o.addEventListener("error",(e=>r(e))),o.send(e)})).catch((e=>H.add(e,"alert-danger"))),get:(e,t=!1,n=0)=>V.get("apiKey").then((e=>new Promise((t=>setTimeout((()=>t(e)),n))))).then((n=>{if(!(e=rr.toApp(e)))return;let r={};return n&&(r["X-AUTH-TOKEN"]=n),t&&(r["X-NOCACHE"]="nocache"),fetch(e,{method:"GET",headers:new Headers(r)}).then((e=>e.ok&&e.json())).catch((t=>console.warn(`ERROR for ${e}`,t)))})).catch((e=>H.add(e,"alert-danger"))),post:(e,t,n=0,r="application/json")=>ar.request(e,t,"POST",n,r),put:(e,t,n=0,r="application/json")=>ar.request(e,t,"PUT",n,r),delete:(e,t,n=0,r="application/json")=>ar.request(e,null,"DELETE",n,r),request:(e,t,n,r=0,a="application/json")=>V.get("apiKey").then((e=>new Promise((t=>setTimeout((()=>t(e)),r))))).then((r=>{if(!(e=rr.toApp(e)))return;let o={};r&&(o["X-AUTH-TOKEN"]=r),a&&(o["Content-type"]=a);let i={method:n,headers:new Headers(o)};return t&&(i.body="object"==typeof t&&"Object"==t.constructor.name?JSON.stringify(t):t),fetch(e,i).then((e=>{try{return"DELETE"!=n?e.json():{}}catch(e){return console.warn(e.message),Promise.reject(e.message)}})).catch((t=>console.warn(`ERROR for ${e}`,t)))})).catch((e=>H.add(e,"alert-danger")))};var or=ar;const ir={LIMIT:20,get:()=>q.get()?.notifications||[],update:()=>or.get(`/api/me/notifications/${ir.LIMIT+1}`).then((e=>{q.dispatch("notifications/update",e)})),isNew(e){let t=q.get();return!!Array.isArray(t.notifications)&&t.notifications.some((t=>ir.matchNotification(t,e)||"new_comment"==t.type&&t.fromMessage.id===e))},removeAllNotifications(){let e=q.get();Array.isArray(e.notifications)&&e.notifications.forEach((e=>q.dispatch("notifications/remove",e)))},removeMatchingNotifications:e=>Promise.all(q.get().notifications.filter((t=>ir.matchNotification(t,e))).map((e=>{or.delete(`/api/notifications/${e.id}`).then((()=>{q.dispatch("notifications/remove",e)}))}))),matchNotification:(e,t)=>e.id===t||e.target===t};const sr={LIMIT:1e3,get:()=>q.get()?.bookmarks||[],update:()=>or.get(`/api/me/bookmarks/${sr.LIMIT+1}`).then((e=>{q.dispatch("bookmarks/update",e)})),matchBookmark:(e,t)=>e.id===t||e.message.id===t,removeAllBookmarks(){let e=q.get();Array.isArray(e.bookmarks)&&e.bookmarks.forEach((e=>q.dispatch("bookmarks/remove",e)))},removeMatchingBookmarks(e){let t=q.get();Array.isArray(t.bookmarks)&&t.bookmarks.filter((t=>sr.matchBookmark(t,e))).forEach((e=>q.dispatch("bookmarks/remove",e)))},hasBookmark(e){let t=q.get();return!!Array.isArray(t.bookmarks)&&t.bookmarks.some((t=>sr.matchBookmark(t,e)))},addBookmark(e){sr.hasBookmark(e)||q.dispatch("bookmark/add",e)}};const lr={get:()=>q.get(),get route(){try{return lr.removeSubpath(location.pathname).slice(1).split("/")[0]}catch{return""}},get id(){try{return lr.removeSubpath(location.pathname).slice(1).split("/")[1]}catch{return""}},get action(){try{return lr.removeSubpath(location.pathname).slice(1).split("/")[2]}catch{return""}},get backUrl(){return console.err("don't use backUrl"),q.get()?.backUrl},get search(){return location.search.slice(1)},getEntity:()=>lr.isEntity(lr.route)?or.get(`/api/${lr.route}/${lr.id}`):Promise.resolve(null),get entity(){return console.err("don't use entity"),q.get()?.entity},removeSubpath:e=>e?e.replace(new RegExp(`^${rr.getSubpath()}`),""):"",getParam:(e,t=window.location.search.substring(1))=>{let n=t.split("&").find((t=>t.split("=")[0]===e));return n?decodeURIComponent(n.split("=")[1]):""},getSegments:()=>lr.removeSubpath(window.location.pathname).slice(1).split("?")[0].split("/"),isOutside:()=>["login","password-reset","signup","invitation","stop-notification-emails","public"].includes(lr.route||lr.getSegments()[0]),isEntity:()=>["messages","groups","users","links","files"].includes(lr.getSegments()[0]),getUrlComponents:e=>{let t={};return e&&(t.url=new URL(e),t.path=t.url.pathname,t.search=t.url.search.slice(1),[t.route,t.id,t.action]=lr.removeSubpath(t.path).slice(1).split("/")),t.entityType="",t.backUrl="",t}};const cr=H,ur={get info(){return q.get()?.api},update:()=>or.get("/api/info",!0).then((e=>{if(e)return q.dispatch("api/update",Object.assign({},e)),setTimeout(dispatchEvent(new CustomEvent("apiStateChange"))),e}))},pr=or,dr=tr,fr=dt,gr=ir,hr=sr,mr=lr,vr=V,_r=rr;function yr(){return yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yr.apply(this,arguments)}var br,kr;(kr=br||(br={})).Pop="POP",kr.Push="PUSH",kr.Replace="REPLACE";function wr(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function a(){var e=n.location,t=e.pathname,a=e.search,o=e.hash,i=r.state||{};return[i.idx,{pathname:t,search:a,hash:o,state:i.usr||null,key:i.key||"default"}]}var o=null;n.addEventListener("popstate",(function(){if(o)p.call(o),o=null;else{var e=br.Pop,t=a(),n=t[0],r=t[1];if(p.length){if(null!=n){var i=l-n;i&&(o={action:e,location:r,retry:function(){v(-1*i)}},v(i))}}else m(e)}}));var i=br.Pop,s=a(),l=s[0],c=s[1],u=xr(),p=xr();function d(e){return"string"==typeof e?e:jr(e)}function f(e,t){return void 0===t&&(t=null),yr({pathname:c.pathname,hash:"",search:""},"string"==typeof e?Cr(e):e,{state:t,key:Sr()})}function g(e,t){return[{usr:e.state,key:e.key,idx:t},d(e)]}function h(e,t,n){return!p.length||(p.call({action:e,location:t,retry:n}),!1)}function m(e){i=e;var t=a();l=t[0],c=t[1],u.call({action:i,location:c})}function v(e){r.go(e)}null==l&&(l=0,r.replaceState(yr({},r.state,{idx:l}),""));var _={get action(){return i},get location(){return c},createHref:d,push:function e(t,a){var o=br.Push,i=f(t,a);if(h(o,i,(function(){e(t,a)}))){var s=g(i,l+1),c=s[0],u=s[1];try{r.pushState(c,"",u)}catch(e){n.location.assign(u)}m(o)}},replace:function e(t,n){var a=br.Replace,o=f(t,n);if(h(a,o,(function(){e(t,n)}))){var i=g(o,l),s=i[0],c=i[1];r.replaceState(s,"",c),m(a)}},go:v,back:function(){v(-1)},forward:function(){v(1)},listen:function(e){return u.push(e)},block:function(e){var t=p.push(e);return 1===p.length&&n.addEventListener("beforeunload",Or),function(){t(),p.length||n.removeEventListener("beforeunload",Or)}}};return _}function Or(e){e.preventDefault(),e.returnValue=""}function xr(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function Sr(){return Math.random().toString(36).substr(2,8)}function jr(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,a=void 0===r?"":r,o=e.hash,i=void 0===o?"":o;return a&&"?"!==a&&(n+="?"===a.charAt(0)?a:"?"+a),i&&"#"!==i&&(n+="#"===i.charAt(0)?i:"#"+i),n}function Cr(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}const Pr=U(null),Lr=U(null),Er=U({outlet:null,matches:[]});function Ar(e,t){if(!e)throw new Error(t)}function Nr(e,t,n){void 0===n&&(n="/");let r=Ur(("string"==typeof t?Cr(t):t).pathname||"/",n);if(null==r)return null;let a=Rr(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let o=null;for(let e=0;null==o&&e<a.length;++e)o=Dr(a[e],r);return o}function Rr(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach(((e,a)=>{let o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(!o.relativePath.startsWith(r)&&Ar(!1),o.relativePath=o.relativePath.slice(r.length));let i=Fr([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&Ar(!1),Rr(e.children,t,s,i)),(null!=e.path||e.index)&&t.push({path:i,score:$r(i,e.index),routesMeta:s})})),t}const Ir=/^:\w+$/,Mr=e=>"*"===e;function $r(e,t){let n=e.split("/"),r=n.length;return n.some(Mr)&&(r+=-2),t&&(r+=2),n.filter((e=>!Mr(e))).reduce(((e,t)=>e+(Ir.test(t)?3:""===t?1:10)),r)}function Dr(e,t){let{routesMeta:n}=e,r={},a="/",o=[];for(let e=0;e<n.length;++e){let i=n[e],s=e===n.length-1,l="/"===a?t:t.slice(a.length)||"/",c=zr({path:i.relativePath,caseSensitive:i.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let u=i.route;o.push({params:r,pathname:Fr([a,c.pathname]),pathnameBase:Hr(Fr([a,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(a=Fr([a,c.pathnameBase]))}return o}function zr(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((e,t)=>(r.push(t),"([^\\/]+)")));e.endsWith("*")?(r.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(a,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=s[n]||"";i=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(t){return e}}(s[n]||""),e}),{}),pathname:o,pathnameBase:i,pattern:e}}function Tr(e,t,n){let r,a="string"==typeof e?Cr(e):e,o=""===e||""===a.pathname?"/":a.pathname;if(null==o)r=n;else{let e=t.length-1;if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}r=e>=0?t[e]:"/"}let i=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"==typeof e?Cr(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:Br(r),hash:Vr(a)}}(a,r);return o&&"/"!==o&&o.endsWith("/")&&!i.pathname.endsWith("/")&&(i.pathname+="/"),i}function Ur(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}const Fr=e=>e.join("/").replace(/\/\/+/g,"/"),Hr=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Br=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Vr=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function qr(e){!Kr()&&Ar(!1);let{basename:t,navigator:n}=Ut(Pr),{hash:r,pathname:a,search:o}=Gr(e),i=a;if("/"!==t){let n=function(e){return""===e||""===e.pathname?"/":"string"==typeof e?Cr(e).pathname:e.pathname}(e),r=null!=n&&n.endsWith("/");i="/"===a?t+(r?"/":""):Fr([t,a])}return n.createHref({pathname:i,search:o,hash:r})}function Kr(){return null!=Ut(Lr)}function Wr(){return!Kr()&&Ar(!1),Ut(Lr).location}function Jr(){!Kr()&&Ar(!1);let{basename:e,navigator:t}=Ut(Pr),{matches:n}=Ut(Er),{pathname:r}=Wr(),a=JSON.stringify(n.map((e=>e.pathnameBase))),o=Dt(!1);return Mt((()=>{o.current=!0})),Tt((function(n,i){if(void 0===i&&(i={}),!o.current)return;if("number"==typeof n)return void t.go(n);let s=Tr(n,JSON.parse(a),r);"/"!==e&&(s.pathname=Fr([e,s.pathname])),(i.replace?t.replace:t.push)(s,i.state)}),[e,t,a,r])}function Qr(){let{matches:e}=Ut(Er),t=e[e.length-1];return t?t.params:{}}function Gr(e){let{matches:t}=Ut(Er),{pathname:n}=Wr(),r=JSON.stringify(t.map((e=>e.pathnameBase)));return zt((()=>Tr(e,JSON.parse(r),n)),[e,r,n])}function Yr(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight(((n,r,a)=>_(Er.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})),null)}function Zr(e){let{to:t,replace:n,state:r}=e;!Kr()&&Ar(!1);let a=Jr();return Mt((()=>{a(t,{replace:n,state:r})})),null}function Xr(e){Ar(!1)}function ea(e){let{basename:t="/",children:n=null,location:r,navigationType:a=br.Pop,navigator:o,static:i=!1}=e;Kr()&&Ar(!1);let s=Hr(t),l=zt((()=>({basename:s,navigator:o,static:i})),[s,o,i]);"string"==typeof r&&(r=Cr(r));let{pathname:c="/",search:u="",hash:p="",state:d=null,key:f="default"}=r,g=zt((()=>{let e=Ur(c,s);return null==e?null:{pathname:e,search:u,hash:p,state:d,key:f}}),[s,c,u,p,d,f]);return null==g?null:_(Pr.Provider,{value:l},_(Lr.Provider,{children:n,value:{location:g,navigationType:a}}))}function ta(e){let{children:t,location:n}=e;return function(e,t){!Kr()&&Ar(!1);let n,{matches:r}=Ut(Er),a=r[r.length-1],o=a?a.params:{},i=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,Wr());if(t){var l;let e="string"==typeof t?Cr(t):t;"/"!==i&&!(null==(l=e.pathname)?void 0:l.startsWith(i))&&Ar(!1),n=e}else n=s;let c=n.pathname||"/",u=Nr(e,{pathname:"/"===i?c:c.slice(i.length)||"/"});return Yr(u&&u.map((e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:Fr([i,e.pathname]),pathnameBase:"/"===e.pathnameBase?i:Fr([i,e.pathnameBase])}))),r)}(na(t),n)}function na(e){let t=[];return en.forEach(e,(e=>{if(!_n(e))return;if(e.type===b)return void t.push.apply(t,na(e.props.children));e.type!==Xr&&Ar(!1);let n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=na(e.props.children)),t.push(n)})),t}function ra(){return ra=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ra.apply(this,arguments)}function aa(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}const oa=["onClick","reloadDocument","replace","state","target","to"];function ia(e){let{basename:t,children:n,window:r}=e,a=Dt();null==a.current&&(a.current=wr({window:r}));let o=a.current,[i,s]=Rt({action:o.action,location:o.location});return $t((()=>o.listen(s)),[o]),_(ea,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:o})}const sa=Zt((function(e,t){let{onClick:n,reloadDocument:r,replace:a=!1,state:o,target:i,to:s}=e,l=aa(e,oa),c=qr(s),u=function(e,t){let{target:n,replace:r,state:a}=void 0===t?{}:t,o=Jr(),i=Wr(),s=Gr(e);return Tt((t=>{if(!(0!==t.button||n&&"_self"!==n||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t))){t.preventDefault();let n=!!r||jr(i)===jr(s);o(e,{replace:n,state:a})}}),[i,o,s,r,a,n,e])}(s,{replace:a,state:o,target:i});return _("a",ra({},l,{href:c,onClick:function(e){n&&n(e),e.defaultPrevented||r||u(e)},ref:t,target:i}))}));var la;la=new URL(o("c1bOu").resolve("IA7EQ"),import.meta.url).toString();var ca=Gn()(class extends k{constructor(){super(),pr.get(`/api${window.location.pathname}`).then((()=>{this.setState({message:this.props.t("notification_emails_stopped")})})).catch((e=>{console.warn(e),this.setState({message:this.props.t("error")})}))}render(){return _("div",null,this.state.message||"")}});function ua(e){return _(Ka,{id:e.id,isChild:!0})}function pa(e){const{t:t}=Vn(),[n,r]=Rt(0),[a,o]=Rt(0),i=t=>{const n=t.detail;n.parent&&_r.getId(n.parent)==e.id&&o(1024)};return Mt((()=>{window.addEventListener("newChild",i);let t=0,n=0;if(e.childMessages.length){let r=mr.action?e.childMessages.findIndex((e=>e&&e.id===mr.action)):-1;-1!=r?(t=Math.max(0,r-1),n=Math.min(e.childMessages.length,r+1)):(t=e.childMessages&&e.childMessages.length-5,n=e.childMessages&&e.childMessages.length)}r(t),o(n)}),[]),a-n<1||!e.childMessages?null:_("div",{class:"children"},n>0&&_("div",{class:"d-flex"},_("a",{class:"more-coms unselectable",onClick:()=>{r(Math.max(0,n-10))}},t("previous_coms"))),e.childMessages.map(((e,t)=>t<n||t>a?null:_(ua,{id:e.id,key:e.id}))),a+1<e.childMessages.length&&_("div",{class:"d-flex"},_("span",{class:"more-coms unselectable",onClick:()=>{o(Math.min(e.childMessages.length,a+10))}},t("next_coms"))))}function da(e){return _("div",{class:"message-head d-flex"},!e.isPublic&&_("div",null,_("img",{className:"rounded-circle material-shadow avatar"+(e.author&&e.author.name?"":" removed-user"),style:_r.backgroundHash(e.author&&e.author.name?e.author&&e.author.id:""),src:e.author&&e.author.avatar?_r.crop(e.author.avatar.id,100,100):_r.defaultAvatar,title:e.author&&e.author.name?e.author.name:""})),!e.isChild&&!e.isPublic&&_("div",{class:"infos"},_("span",{class:"capitalize author"},e.author&&e.author.name?e.author.name:"")))}const fa=function(){const e={regular:{comment:[512,512,[],"f075","M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"],bookmark:[384,512,[],"f02e","M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z"],images:[576,512,[],"f302","M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v48H54a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6v-10h48zm42-336H150a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6V86a6 6 0 0 0-6-6zm6-48c26.51 0 48 21.49 48 48v256c0 26.51-21.49 48-48 48H144c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h384zM264 144c0 22.091-17.909 40-40 40s-40-17.909-40-40 17.909-40 40-40 40 17.909 40 40zm-72 96l39.515-39.515c4.686-4.686 12.284-4.686 16.971 0L288 240l103.515-103.515c4.686-4.686 12.284-4.686 16.971 0L480 208v80H192v-48z"],"check-circle":[512,512,[],"f058","M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z"],"file-pdf":[384,512,[],"f1c1","M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z"],bell:[448,512,[],"f0f3","M439.39 362.29c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71zM67.53 368c21.22-27.97 44.42-74.33 44.53-159.42 0-.2-.06-.38-.06-.58 0-61.86 50.14-112 112-112s112 50.14 112 112c0 .2-.06.38-.06.58.11 85.1 23.31 131.46 44.53 159.42H67.53zM224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64z"],"level-down-alt":[320,512,[],"f3be","M313.553 392.331L209.587 504.334c-9.485 10.214-25.676 10.229-35.174 0L70.438 392.331C56.232 377.031 67.062 352 88.025 352H152V80H68.024a11.996 11.996 0 0 1-8.485-3.515l-56-56C-4.021 12.926 1.333 0 12.024 0H208c13.255 0 24 10.745 24 24v328h63.966c20.878 0 31.851 24.969 17.587 40.331z"]},solid:{bookmark:[384,512,[],"f02e","M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"],comment:[512,512,[],"f075","M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"],"pencil-alt":[512,512,[],"f303","M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"],"arrow-left":[448,512,[],"f060","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"],"caret-down":[320,512,[],"f0d7","M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"],film:[512,512,[],"f008","M488 64h-8v20c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12V64H96v20c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12V64h-8C10.7 64 0 74.7 0 88v336c0 13.3 10.7 24 24 24h8v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h320v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h8c13.3 0 24-10.7 24-24V88c0-13.3-10.7-24-24-24zM96 372c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm272 208c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm0-168c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm112 152c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40z"],times:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"],bell:[448,512,[],"f0f3","M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"],"ellipsis-h":[512,512,[],"f141","M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"],search:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]}}[this.props.family][this.props.icon];if(e)return _("svg",{style:this.props.rotation?`transform: rotate(${this.props.rotation})`:null,className:`fa-icon ${this.props.family} ${this.props.icon}`,viewBox:`0 0 ${e[0]} ${e[1]}`},_("path",{fill:"currentColor",d:e[4]}))};let ga=U(),ha="undefined"!=typeof window?$t:Mt,ma=(va=ga,(...e)=>{let t=Ut(va),n=Rt({});return ha((()=>t.on("@changed",((t,r)=>{e.some((e=>e in r))&&n[1]({})}))),[]),zt((()=>{let n=t.get(),r={};return e.forEach((e=>{r[e]=n[e]})),r.dispatch=t.dispatch,r}),[n[0]])});var va;function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_a.apply(this,arguments)}const ya=function(e){const{t:t}=Vn(),n=Rt(e.id),[r,a]=Rt(!1),[o,i]=Rt(""),[s,l]=Rt(""),[c,u]=Rt([]),p=()=>{const e=mr.getParam("q"),t=mr.getParam("hashtags");i(e),l(t),a(!1),u([]),pr.post("/api/messages/search",{group:n,search:e,hashtags:t}).then((t=>{t&&Array.isArray(t.messages)&&(i(e),u(t.messages),a(!0))}))};if(Mt((()=>(p(),window.addEventListener("groupSearch",p),()=>{window.removeEventListener("groupSearch",p)})),[]),Array.isArray(c))return _("div",null,_("article",{id:"group",class:"justify-content-center d-flex"},_("div",{class:"search-results-container container-fluid d-flex justify-content-center flex-wrap"},0==c.length&&!r&&_("p",null,_("div",{class:"mt-5 spinner orange-spinner"},_("div",null),_("div",null),_("div",null),_("div",null),_("div",null))),0==c.length&&r&&_("p",null,t("search_without_result")),c.map(((e,t)=>_(Ya,{tabindex:t+1,key:e.id,message:e,groupId:n,search:o,hashtags:s}))))))},ba=function(){let e=Qr();return _("main",null,_(wa,null),_("div",{class:"content"},_("article",{class:"mb-3"},_("div",{class:"container pb-3"},_(ya,{key:e.id,id:e.id})))))},ka=function(){const{t:e}=Vn();return _(b,null,this.props.groups&&_("div",{class:"nav-link dropdown groups unselectable",tabindex:"-1",onClick:e=>e.currentTarget.classList.toggle("active")},_("div",{class:"unselectable pr-1"},e("groups")," ",_(fa,{family:"solid",icon:"caret-down"})),_("div",{class:"dropdown-menu dropdown-left"},this.props.groups.map((e=>_(sa,{key:e.id,to:`/groups/${e.id}`,class:"d-block seamless-link unselectable"},e.name))),_(sa,{to:"/create-group",class:"seamless-link unselectable"},`+ ${e("create_a_group")}`))))},wa=function(){const{t:e}=Vn(),{bookmarks:t}=ma("bookmarks"),{me:n}=ma("me");return _("div",{class:"main-nav nav align-items-center z-index-100"},_("div",{class:"navbar-block"},_("div",{class:"menu dropdown cursor-pointer",tabindex:"-1",onClick:e=>e.currentTarget.classList.toggle("active")},_("div",{class:"rounded-circle avatar unselectable"},_("img",{class:"rounded-circle",style:_r.backgroundHash(n.id),src:n.avatar?_r.crop(n.avatar.id,80,80):_r.defaultAvatar,onError:e=>e.currentTarget.src=_r.defaultAvatar})),_("div",{class:"dropdown-menu dropdown-right"},t?.length>0&&_(sa,{class:"d-block seamless-link capitalize",to:"/bookmarks"},e("bookmarks")),_(sa,{class:"d-block seamless-link capitalize",to:`/users/${n.id}/settings`},e("settings")),_(sa,{class:"d-block seamless-link capitalize",to:"/logout"},e("logout")))),_(Oa,null)),["messages","groups"].includes(mr.route)&&_(Fa,null),_("div",{class:"navbar-block"},_(ka,{groups:n.groups})))},Oa=function(){const{t:e}=Vn(),{notifications:t}=ma("notifications");return t?_("div",{className:"menu dropdown"+(t.length?" cursor-pointer":""),title:e("notifications"),tabindex:"-1",onClick:e=>t.length&&e.currentTarget.classList.toggle("active")},_("div",{class:"unselectable button-with-count"},_(fa,{family:t.length?"solid":"regular",icon:"bell"}),!!t.length&&_("span",{class:"badge-count"},Math.min(t.length,gr.LIMIT)+(t.length>gr.LIMIT?"+":""))),_("div",{class:"dropdown-menu dropdown-right notifications-menu"},_("div",{class:"notification-header"},_("strong",{class:"capitalize"},e("notifications")),_("div",{class:"action capitalize",onClick:()=>gr.removeAllNotifications()},e("mark_all_as_read"))),t?.length&&t.sort(((e,t)=>t.createdAt-e.createdAt)).slice(0,gr.LIMIT).map((e=>_(Ua,_a({key:e.id},e)))))):null};var xa=Gn()(class extends k{constructor(){super(),this.postNewGroup=this.postNewGroup.bind(this)}postNewGroup(e){e.preventDefault();const t=document.querySelector("#create_group_form input[name='name']").value;let n={};if(!t)return!1;n.name=t,n.createdAt=Math.floor(Date.now()/1e3),pr.post("/api/groups",n).then((e=>{pr.post(`/api/groups/invitation/${e.secretKey}`,{}).then((e=>{window.location=_r.toApp(`/groups/${e.id}`)}))}))}render(){return _("main",null,_(wa,null),_("div",{class:"content"},_("div",{class:"container mt-2"},_("div",{class:"group-settings"},_("div",{class:"card"},_("div",{class:"card-body"},_("div",{class:"container-fluid p-1"},_("div",{class:"row"},_("div",{class:"col-12 col-md-10"},_("form",{id:"create_group_form",class:"mb-1"},_("div",{class:"form-group"},_("label",{for:"name"},this.props.t("name"),": "),_("input",{type:"text",name:"name",minlength:"1",maxlength:"128",placeholder:this.props.t("name_input"),class:"form-control",required:!0})),_("button",{onClick:e=>this.postNewGroup(e),class:"btn btn-primary"},this.props.t("create_the_group"))))))))))))}});class Sa extends k{render(){const e=`${this.props.url}/size=large/bgcol=f5f5f5/linkcol=0687f5/minimal=true/tracklist=false/`;return this.state.revealed?_("div",{class:"bandcamp-embed embed-responsive embed-responsive-1by1"},_("iframe",{class:"embed-responsive-item",src:e})):_("div",{class:"embed-preview",onClick:()=>this.setState({revealed:!0})},_("div",{class:"bandcamp"}),_("img",{src:this.props.preview}))}}function ja(e){return _("a",{class:"preview-card seamless-link d-inline-block",target:"_blank",rel:"noreferrer",href:e.url},_("div",{class:"card",style:"max-width: 480px"},e.preview&&_("img",{class:"card-img-top",src:e.preview}),_("div",{class:"card-body p-1"},_("h5",null,e.title),e.description&&_("p",null,_("small",null,e.description.slice(0,1e3))))))}class Ca extends k{render(){return this.state.revealed?_("div",{class:"embed-responsive embed-responsive-16by9"},_("iframe",{allowfullscreen:!0,class:"embed-responsive-item",src:this.props.url})):_("div",{class:"embed-preview",onClick:()=>this.setState({revealed:!0})},_("div",{className:this.props.playBtnClass}),_("img",{src:this.props.preview}))}}const Pa=class extends k{getPreview(){if(this.props?.data?.exception&&console.warn(this.props.data),this.props.data.providerName){if("peertube"==this.props.data.providerName.toLowerCase()&&this.props.data.code)return _("div",{class:"embed-container",dangerouslySetInnerHTML:{__html:this.props.data.code}});if("soundcloud"==this.props.data.providerName.toLowerCase()&&this.props.data.code)return _(Ca,{preview:_r.crop(this.props.preview.id,1024,270),url:`${this.props.data.code.match(/https:\/\/[^"\s]+/)[0]}&auto_play=true`,playBtnClass:"soundcloud"});if("instagram"==this.props.data.providerName.toLowerCase())return _(ja,{url:this.props.data.url,preview:_r.crop(this.props.preview.id,1024,1024),title:this.props.data.title,description:this.props.data.description});if("https://bandcamp.com"==this.props.data.providerUrl&&this.props.data.code){let e=this.props.data.code.match(/https:\/\/.*album=\d+/);if(e||(e=this.props.data.code.match(/https:\/\/.*track=\d+/)),e)return _(Sa,{preview:_r.crop(this.props.preview.id,1024,270),url:e[0]})}if("lichess.org"==this.props.data.providerName.toLowerCase()){let e=this.props?.data?.url&&"string"==typeof this.props?.data.url?this.props.data?.url:this.props.url;if(_r.isValidUrl(e)&&!e.match(/embed/)&&!e.match(/study/)&&!e.match(/blog/)){let t;e=new URL(e.replace("lichess.org/","lichess.org/embed/"));try{t=e.pathname.split("/").slice(-1)[0]}catch(e){t=""}if(e=new URL(e.href.replace(t,t.slice(0,8))),t)return _(Ca,{preview:_r.crop(this.props.preview.id,270,270),url:e,playBtnClass:"lichess"})}}if("youtube"==this.props.data.providerName.toLowerCase()){let e=this.props.url;if(this.props?.preview?.id&&e){let t,n;e=new URL(e),"www.youtube.com"!=e.host&&"m.youtube.com"!=e.host&&"youtube.com"!=e.host&&"music.youtube.com"!=e.host||(e.pathname.match(/shorts/)||e.pathname.match(/embed/)?(t=[`v=${e.pathname.split("/").slice(-1)[0]}`],n=[]):(t=e.search.substring(1).split("&").filter((e=>e.match(/^v=/))),n=e.search.substring(1).split("&").filter((e=>e.match(/^list=/))))),"youtu.be"==e.host&&(t=[`v=${e.pathname.slice(1)}`],n=[]);let r=mr.getParam("t",e.search.substring(1));return n.length&&t.length?_(Ca,{preview:_r.crop(this.props.preview.id,1024,270),url:`https://youtube.com/embed/${t[0].split("=")[1]}?autoplay=1&controls=2&wmode=opaque&list=${n[0].split("=")[1]}${r?`&start=${r}`:""}`,playBtnClass:"youtube"}):n.length?_(Ca,{preview:_r.crop(this.props.preview.id,1024,270),url:`https://youtube.com/embed/videoseries?list=${n[0].split("=")[1]}&autoplay=1&controls=2&wmode=opaque${r?`&start=${r}`:""}`,playBtnClass:"youtube"}):_(Ca,{preview:_r.crop(this.props.preview.id,1024,270),url:`https://youtube.com/embed/${t[0].split("=")[1]}?autoplay=1&controls=2&wmode=opaque${r?`&start=${r}`:""}`,playBtnClass:"youtube"})}}if("invidious"==this.props.data.providerName.toLowerCase()){let e=this.props?.data?.url&&"string"==typeof this.props?.data.url?this.props.data?.url:this.props.url;if(this.props?.preview?.id&&e)return _(Ca,{preview:_r.crop(this.props.preview.id,1024,270),url:`${e.replace("watch?v=","embed/")}`,playBtnClass:"youtube"})}}return/image/.test(this.props.data["content-type"])?_("div",{class:"container d-flex justify-content-center flex-wrap align-items-center"},_("img",{"data-nlg":!this.props.inWriter,href:_r.toApp(this.props.url),class:"img-fluid cursor-pointer","data-origin":this.props.url,"data-src":this.props.preview&&!/gif/.test(this.props.data["content-type"])?_r.thumbnail(this.props.preview.id,1366,768):this.props.url,src:this.props.preview&&!/gif/.test(this.props.data["content-type"])?_r.thumbnail(this.props.preview.id,1366,99999):this.props.url})):/video/.test(this.props.data["content-type"])||"application/ogg"==this.props.data["content-type"]?_("div",{class:"container d-flex justify-content-center flex-wrap align-items-center"},_("video",{class:"img-fluid",controls:!0,src:this.props.url})):/audio/.test(this.props.data["content-type"])?_("div",{class:"container d-flex justify-content-center flex-wrap align-items-center"},_("audio",{class:"w-100",controls:!0},_("source",{src:this.props.url}))):this.props.data.title&&(this.props.preview||this.props.data.description)?_("a",{class:"preview-card seamless-link d-inline-block",target:"_blank",rel:"noreferrer",href:_r.toApp(this.props.url)},_("div",{class:"card",style:"max-width: 480px"},this.props.preview&&_("img",{class:"card-img-top",src:_r.crop(this.props.preview.id,320,180)}),_("div",{class:"card-body p-1"},_("h5",null,this.props.data.title),this.props.data.description&&_("p",null,_("small",null,this.props.data.description.slice(0,500)))))):null}render(){if(!this.props.url||!this.props.data)return null;let e=this.getPreview();return e?_("p",{class:"text-center card-text"},e):null}},La=function(e){Mt((()=>{o("igYK6").then((e=>e.default.start()))}));const t=t=>{t.stopPropagation(),t.preventDefault(),"function"==typeof e.toggleFile&&e.toggleFile(t.target.closest(".file-embed").id)};return e.files&&0!==e.files.length?e.files&&e.files.length>3?_("div",{class:"file-grid"},e.files.sort(((e,t)=>e.fileIndex>t.fileIndex?1:-1)).map((n=>_(Aa,{key:n.id,toggleFile:t,file:n,inWriter:e.inWriter})))):_("div",{class:"d-flex justify-content-center flex-wrap"},e.files.sort(((e,t)=>e.fileIndex>t.fileIndex?1:-1)).map((n=>_(Ea,{key:n.id,toggleFile:t,file:n,inWriter:e.inWriter})))):null},Ea=function(e){const{t:t}=Vn(),n=e.file.contentUrl?`/files/${e.file.contentUrl}`:null;let r=n;if(/image/.test(e.file.type)&&"image/gif"!=e.file.type&&(r=_r.thumbnail(e.file.id,1366,999999)),e.file.contentUrl){if(/video/.test(e.file.type))return"ready"==e.file.status?_("video",{poster:_r.thumbnail(e.file.id,1280,720),class:"file-embed img-fluid contained-height video",controls:"true",src:r,id:e.file.id}):_("a",{class:"file-embed image video-uploaded",id:e.file.id},_("img",{class:"img-fluid video-raw",src:_r.crop(e.file.id,320,180)}),_("div",{class:"video-not-ready"},t("video_not_ready")));if(/pdf/.test(e.file.type))return _("a",{"data-nlg":!e.inWriter,"data-origin":_r.toApp(n),href:e.inWriter?void 0:_r.toApp(r),className:"file-embed pdf-outline image"+(e.file.removed?" removed":""),id:e.file.id},_("img",{class:"img-fluid",src:_r.thumbnail(e.file.id,420,994)}),_("div",{class:"remove-button",style:e.file.removed?"color:red":"",fileIndex:e.file.fileIndex,onClick:t=>e.toggleFile(t)},_(fa,{family:"solid",icon:"times"})));if(/image/.test(e.file.type))return _("a",{"data-nlg":!e.inWriter,"data-origin":_r.toApp(n),href:e.inWriter?void 0:_r.toApp(r),className:"file-embed image"+(e.file.removed?" removed":""),id:e.file.id},_("img",{class:"img-fluid",src:r}),_("div",{class:"remove-button",style:e.file.removed?"color:red":"",fileIndex:e.file.fileIndex,onClick:t=>e.toggleFile(t)},_(fa,{family:"solid",icon:"times"})))}return _("div",{class:"file-embed file-placeholder",id:e.file.id},e.file.error?_("div",{class:"orange-error"},"×"):_("div",{class:"spinner orange-spinner"},_("div",null),_("div",null),_("div",null),_("div",null),_("div",null)),_("div",{class:"progress-bar"},_("div",{style:{width:`${e.file.progress}%`}})))},Aa=function(e){const t=e.file.contentUrl?`/files/${e.file.contentUrl}`:null;let n=t;switch(/image/.test(e.file.type)&&"image/gif"!=e.file.type&&(n=_r.thumbnail(e.file.id,1366,999999)),e.file.status){case"raw":return _("a",{class:"file-embed rounded",id:e.file.id},_("div",{class:"miniature"},_(fa,{family:"regular",icon:"check-circle"})));case"uploading":return _("a",{class:"file-embed rounded",id:e.file.id},_("div",{class:"miniature video-raw",style:`background-image:url('${_r.crop(e.file.id,160,160)}')`}),_("div",{class:"spinner orange-spinner"},_("div",null),_("div",null),_("div",null),_("div",null),_("div",null)),e.file&&e.file.progress>0&&_("div",{class:"progress-bar"},_("div",{style:{width:`${e.file.progress}%`}})));default:if(/pdf/.test(e.file.type)||/video/.test(e.file.type)||"image/gif"==e.file.type)return _("a",{"data-nlg":!e.inWriter,"data-origin":_r.toApp(t),href:e.inWriter?void 0:_r.toApp(n),className:"file-embed rounded image"+(e.file.removed?" removed":""),id:e.file.id},_("div",{className:"miniature"+(e.file.removed?" removed":""),style:`background-image:url('${_r.crop(e.file.id,160,160)}')`}),_("div",{class:"remove-button",style:e.file.removed?"color:red":"",fileIndex:e.file.fileIndex,onClick:t=>e.toggleFile(t)},_(fa,{family:"solid",icon:"times"})));if(/image/.test(e.file.type)&&"image/gif"!=e.file.type)return _("a",{"data-nlg":!e.inWriter,"data-origin":_r.toApp(t),"data-src":_r.thumbnail(e.file.id,1366,768),href:e.inWriter?void 0:_r.toApp(n),class:"file-embed rounded",id:e.file.id},_("div",{className:"miniature"+(e.file.removed?" removed":""),style:`background-image:url('${_r.crop(e.file.id,160,160)}')`}),_("div",{class:"remove-button",style:e.file.removed?"color:red":"",fileIndex:e.file.fileIndex,onClick:t=>e.toggleFile(t)},_(fa,{family:"solid",icon:"times"})))}};function Na(){return Na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Na.apply(this,arguments)}const Ra=function(){let e=Qr();return _("main",null,_(wa,null),_("div",{class:"content"},_("article",{class:"mb-3"},_("div",{class:"container pb-3"},_(Ia,{focus:!0,group:e.id})))))},Ia=function(e){const{t:t}=Vn(),n=Jr(),[r,a]=Rt(e?.files||[]),[o,i]=Rt(!1),[s,l]=Rt(!1),c=_r.genId(),u=(e,t=[],n="",r="")=>{a(t),Array.from(e.current.getElementsByClassName("title-input")).map((e=>e.value=n)),Array.from(e.current.getElementsByClassName("text-input")).map((e=>e.value=r))},p=(e,t)=>{a(r.map((n=>n.id===e?Object.assign(n,t):n)))},d=e=>{const n=new FormData;let o=r.find((t=>t.id==e));if(!o||!o.inputFile)throw console.error(r,o,e),"error";n.append("fileIndex",o.fileIndex),n.append("file",o.inputFile),p(e,Object.assign(o,{status:"uploading"})),l(!0),pr.sendFile(n,(t=>{l(!1),p(e,Object.assign({status:"ready"},t))}),(t=>{p(e,{status:"uploading",progress:Math.floor(t.loaded/t.total*100)})}),(n=>{var o;l(!1),console.warn(n),cr.add(t("error_upload"),"alert-danger"),o=e,a(r.filter((e=>e.id!=o)))}))},f=(e,t)=>{let n=r.reduce(((e,t)=>Math.max(e,t?.fileIndex||0)),0)+1,o=Array.from(t).map((t=>({inputFile:t,type:e,id:_r.genId(),progress:0,status:"initial",fileIndex:++n})));a([...o,...r])};return Mt((()=>{if(r.filter((e=>"uploading"===e.status)).length<2)for(let e=0;e<r.length;e++)if("initial"==r[e].status&&r[e].inputFile){d(r[e].id);break}})),_(Ma,{id:c,sending:o,uploading:s,inputFile:(e,t=!1)=>{const n=document.createElement("input");document.body.appendChild(n),n.style.display="none",n.type="file",n.accept=e,t&&(n.multiple="multiple"),n.addEventListener("change",(t=>{f(e,t.target.files)})),n.click()},sendMessage:(a,o)=>{let s={files:r.filter((e=>!e?.removed)).filter((e=>["ready","raw"].includes(e?.status))).map((e=>e?.id)).filter((e=>!!e)),data:{title:o?.title,text:o?.text}};e.messageId?((n,r)=>{pr.put(`/api/messages/${e.messageId}`,n).then((e=>{u(r,[],"",""),i(!1),e?window.dispatchEvent(new CustomEvent("editMessage",{detail:e})):cr.add(t("error_new_message"),"alert-danger")})),i(!0)})(s,a):((r,a)=>{r=Object.assign(r,{createdAt:Math.floor(Date.now()/1e3),author:fr.id,group:_r.getId(e.group),children:[],lastActivityDate:Math.floor(Date.now()/1e3)}),e.parent&&(r.parent=_r.getId(e.parent)),r.files.length||r.data.text||r.data.title?(pr.post("/api/messages",r).then((r=>{if(!r)return i(!1),void cr.add(t("error_new_message"),"alert-danger");e.isChild?(i(!1),window.dispatchEvent(new CustomEvent("newChild",{detail:r}))):n(`/messages/${r.id}`),u(a,[],"","")})),i(!0)):cr.add(t("empty_message"),"alert-danger")})(s,a)},cancel:e.cancel,files:r,toggleFile:e=>{a(r.map((t=>(t.id==e&&(t.removed=!t.removed),t))))},addFiles:f,group:e.group,isChild:e.isChild,text:e.text,title:e.title})},Ma=function(e){const[t,n]=Rt(null),[r,a]=Rt(""),[o,i]=Rt(e.text||""),[s,l]=Rt(e.title||""),{t:c}=Vn(),u=Dt(null),p=t=>{e.sendMessage(t,{title:t?.current?.querySelector(".title-input")?.value,text:t?.current?.querySelector(".text-input")?.value}),n(null),a(null),i(""),l("")},d=e=>{e&&(e.style.height="1px",e.style.height=`${25+e.scrollHeight}px`,setTimeout((()=>{let t=e.value.match(/(https?:\/\/[^\s]+)/gi);t&&t[0]!=r&&pr.get(`/api/links/by_url?url=${encodeURIComponent(t[0])}`).then((r=>{r&&e.value.indexOf(t[0])>=0&&(a(t[0]),n(r))}))}),0))},f=(e,t=!1)=>{e.ctrlKey&&_r.is_it_enter(e)?p(u):[" ","Enter","v"].includes(e.key)&&t&&d(e.currentTarget)};return Mt((()=>{d(document?.getElementById(e.id)?.querySelector(".text-input"))}),[]),e.sending?_("div",{class:"message-placeholder"},_("div",{class:"spinner orange-spinner"},_("div",null),_("div",null),_("div",null),_("div",null),_("div",null))):_("div",{id:e.id,class:"writer",ref:u},!e.isChild&&_("input",{type:"text",class:"title-input",onKeyPress:e=>f(e),placeholder:c("title_placeholder"),value:s,onChange:e=>l(e.target.value)}),_("textarea",{onKeyPress:e=>f(e,!0),onPaste:t=>{return n=t,void e.addFiles("image/jpeg",n.clipboardData.files);var n},class:"text-input",rows:"5",autocomplete:"off",autofocus:e.focus,placeholder:c("text_placeholder"),maxlength:"50000",value:o,onChange:e=>i(e.target.value)}),!!t&&_(Pa,Na({inWriter:!0},t)),!!e.files.length&&_(La,{files:e.files,toggleFile:e.toggleFile,inWriter:!0}),_("div",{class:"options"},ur?.info?.upload?.image&&_("button",{class:"option",onClick:()=>e.inputFile("image/*",!0),title:c("upload_image")},_(fa,{family:"regular",icon:"images"})),ur?.info?.upload?.video&&_("button",{class:"option",onClick:()=>e.inputFile("video/*"),title:c("upload_video")},_(fa,{family:"solid",icon:"film"})),ur?.info?.upload?.pdf&&_("button",{class:"option",onClick:()=>e.inputFile("application/pdf"),title:c("upload_pdf")},_(fa,{family:"regular",icon:"file-pdf"})),_("div",{class:"actions"},!!e.cancel&&_("button",{class:"cancel",onClick:t=>e.cancel(t)},c("cancel")),_("button",{disabled:!e.group||e.uploading,type:"submit",class:"submit",onClick:()=>p(u)},c("submit")))))};const $a=function(){const{bookmarks:e}=ma("bookmarks");return e?!Array.isArray(e)||e.length<1?void 0:_("main",null,_(wa,null),_("div",{class:"content"},_("article",{id:"group",class:"justify-content-center d-flex"},_("div",{class:"message-container container-fluid d-flex justify-content-center flex-wrap"},e.map(((e,t)=>_(Ga,{tabindex:t+1,key:e.message.id,id:e.message.id}))))))):null},Da=xa,za=function(){let e=Qr();return _("main",null,_(wa,null),_("div",{class:"content"},_("div",null,_("div",null,_("article",{id:"group",class:"justify-content-center d-flex"},_("div",{class:"message-container container-fluid d-flex justify-content-center flex-wrap"},_(Ja,{key:e.id,id:e.id})))),_(sa,{class:"write-button material-shadow seamless-link",to:`/groups/${e.id}/write`},_(fa,{family:"solid",icon:"pencil-alt"})))))},Ta=function(e){const{t:t}=Vn();return _(b,null,(e=>{if(!e)return null;const n=Math.abs(Math.round((Date.now()/1e3-e)/60));return n<1?t("just_now"):n<60?t("ago",{duration:`${n}mn`}):n<1440?t("ago",{duration:`${Math.floor(n/60)}h`}):_r.humanFullDate(e).split(" ")[0]})(e.timestamp))},Ua=function(e){const t=Jr(),{t:n}=Vn(),[r,a]=Rt(null),[o,i]=Rt(null),[s,l]=Rt(null),[c,u]=Rt(null),p=e=>{e.currentTarget.src=_r.defaultAvatar};return Mt((()=>{pr.get(`/api/notifications/${e.id}`,!1,100).then((e=>{a(((e,t)=>{switch(e?.type){case"user_joined_group":case"user_left_group":case"group_name_change":return`/groups/${e.fromGroup.id}`;case"new_message":return`/messages/${e.target}`;case"new_comment":return`/messages/${t}/${e.target}`;case"global_notification":return e.target;default:return""}})(e,e.fromMessage?.id)),i((e=>{switch(e?.type){case"new_message":return n("has_posted_in");case"new_comment":return n("has_commented_on");case"user_joined_group":return n("has_joined");case"user_left_group":return n("has_left");case"group_name_change":return n("changed_group_name");default:return""}})(e)),l(e.title),u(e)}))}),[]),c?_("a",{class:"notification seamless-link unselectable",href:r,title:s,onClick:n=>{return a=r,n.preventDefault(),void gr.removeMatchingNotifications(e.id).then((()=>{t(a)}));var a}},_("div",{class:"miniature unselectable"},(e=>{let t=_r.defaultAvatar;return e?.miniature&&"global_notification"!=e.type&&(t=_r.crop(e?.miniature?.id,80,80)),_("img",{style:_r.backgroundHash(e?.author?.id),src:t,onError:e=>p(e)})})(c)),_("div",{class:"infos"},_("div",{class:"description"},"global_notification"!=c.type&&_(b,null,_("strong",null,c?.author?.name||"--"),_("span",null,` ${o} `)),(e=>{switch(e?.type){case"new_message":return _(b,null,_("strong",null,e?.fromGroup.name),s&&_(b,null,_("br",null),_("small",null,_("em",null,_r.limitStrSize(s,52)))));case"new_comment":return _("span",null,`${n("the_message_from")} `,_("strong",null,e?.parentAuthorName),s&&_(b,null,_("br",null),_("small",null,_("em",null,_r.limitStrSize(s,52)))));case"user_joined_group":case"user_left_group":return _("strong",null,e?.fromGroup.name);case"group_name_change":return _("span",null,_("strong",null,e.data.previousGroupName),` ${n("to")} `,_("strong",null,e.data.newGroupName));case"global_notification":return e.data.text;default:return""}})(c)),_("div",{class:"date"},_r.humanTime(c.createdAt)))):null},Fa=function(){const{t:e}=Vn(),t=Jr();return _("form",{class:"navbar-block search-block",onSubmit:e=>(e.preventDefault(),void mr.getEntity().then((e=>{let n=null;switch(e.entityType){case"group":n=e.id;break;case"message":n=e.group.id}let r=document.getElementById("search").value.normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" ");t(`/groups/${n}/search?q=${r.join("+")}`),window.dispatchEvent(new CustomEvent("groupSearch"))})))},_("div",{class:"input-group"},_("input",{class:"form-control",type:"text",id:"search",placeholder:e("search_in_group"),value:mr.getParam("q").replace(/\+/g," ")}),_("div",{class:"input-group-append"},_("button",{class:"btn btn-secondary",type:"submit"},_(fa,{family:"solid",icon:"search"})))))},Ha=function(){const{t:e}=Vn(),{me:t}=ma("me"),n=Wr(),r=new URLSearchParams(n.search),[a,o]=Rt(!1),[i,s]=Rt(r.get("title")||""),[l,c]=Rt(r.get("text")||""),[u,p]=Rt(r.get("url")||""),d=r.get("parent")||"",[f,g]=Rt([]),[h,m]=Rt("");if(Mt((()=>{setTimeout((()=>{fr.fetch().then((e=>{e.data.default_group?m(e.data.default_group):1==e.groups.length&&m(e.groups[0].id),r.get("message")?pr.get(`/api/messages/${r.get("message")}`).then((e=>{e?.files?.length?Promise.all(e.files.map((e=>pr.get(`/api/files/${e.id}`).then((e=>e))))).then((t=>{g(t),s(e?.data?.title||""),c(e?.data?.text||""),p(""),o(!0)})):(s(e?.data?.title||""),c(e?.data?.text||""),p(""),o(!0))})):o(!0)}))}),100)}),[]),a)return _("main",null,_(wa,null),_("div",{class:"content"},_("article",{class:"mt-2"},_("div",{class:"container"},!d&&t?.groups?.length>1&&_("div",{class:"mb-1"},_("label",{class:"px-1",for:"group_share_choice"},e("group_share_choice")),_("select",{value:h,class:"form-select",name:"group_share_choice",onChange:e=>m(e.target.value),required:!0},t?.groups.map((e=>_("option",{key:e.id,value:e.id},e.name))))),!!d&&_("div",{class:"form-group"},_("label",{for:"apiKey"},e("parent_message"),":"," "),_("input",{type:"text",name:"parent_message",value:d,class:"form-control font-size-80",readonly:"readonly"})),_(Ia,{focus:!0,group:h,title:i,parent:d,text:l||u?`${l}\n${u}`:"",files:f})))))};function Ba(e){const{t:t}=Vn();return _("div",{class:"message-footer"},_("div",{class:"infos"},!e?.isPublic&&e?.author&&e?.author?.id===fr.id&&_(b,null,_("a",{class:"action seamless-link font-size-90 capitalize d-none d-sm-block",onClick:t=>e.editMessage(t)},t("edit")),_("div",{class:"dot d-none d-sm-block"},"•")),!e?.isPublic&&e?.isChild&&e?.message&&_(b,null,_(sa,{class:"action seamless-link font-size-90 capitalize",to:`/messages/${e?.message.id}${e?.message?.children.length?"":"?focus=reply"}`},e?.message?.children.length?e.message.children.some((e=>gr.isNew(e.id)))?_("b",null,t("replies",{count:e.message.children.length})):t("replies",{count:e.message.children.length}):t("reply")),_("div",{class:"dot"},"•")),_("div",{class:"date font-size-90",title:_r.humanFullDate(e?.message.createdAt)},_(Ta,{timestamp:e?.message.createdAt})),_(b,null,_("div",{class:"dot"},"•"),_("div",{class:"font-size-90"},e?.author&&e?.author?.name?e.author.name:"--"))),_("div",null,!e?.isPublic&&_("div",{class:"options dropdown",onClick:e=>e?.target?.closest(".dropdown")?.classList.toggle("active")},_("div",{class:"none-if-follows-empty"},_(fa,{family:"solid",icon:"ellipsis-h"})),_("div",{class:"dropdown-menu dropdown-options"},e?.author&&e?.author?.id===fr.id&&_("a",{class:"seamless-link capitalize",onClick:t=>e.deleteMessage(t)},t("delete")),_("a",{class:"seamless-link capitalize",onClick:t=>e.openPublicLink(t)},t("public_link")),fr.groups?.length>1&&_("a",{class:"seamless-link capitalize",onClick:t=>e.shareMessage(t)},t("share_message")),!e?.message?.isInFront&&e?.author&&e?.author.id==fr.id&&_("a",{class:"seamless-link capitalize",onClick:t=>e.publishInGroup(t)},t("publish_in_group")),!hr.hasBookmark(e?.message.id)&&_("a",{class:"seamless-link capitalize",onClick:()=>hr.addBookmark(e?.message.id)},t("add_bookmark")),hr.hasBookmark(e?.message.id)&&_("a",{class:"seamless-link capitalize",onClick:()=>hr.removeMatchingBookmarks(e?.message.id)},t("remove_bookmark")),e?.author?.id==fr.id&&_("a",{class:"seamless-link capitalize",onClick:t=>e.editMessage(t)},t("edit"))))))}function Va(e){const[t,n]=Rt(null);return Mt((()=>{if(!t&&e.message&&e.message.data){let t=_r.getUrl(e.message.data.text);t&&pr.get(`/api/links/by_url?url=${encodeURIComponent(t[0])}`).then((e=>n(e)))}})),_("div",{class:"message-body"},e.message.data&&e.message.data.title&&_("div",{class:"title"},_("span",null,e.message.data.title)),e.message.data&&e.message.data.text&&e.message.data.text.trim()&&_("p",{class:"card-text",dangerouslySetInnerHTML:(()=>{if(!e.message.data)return"";let t=e.message.data.text.replace(/</g,"&lt;").replace(/>/g,"&gt;").trim(),n=0,r=null;for(;r=_r.getUrl(t.slice(n));){let e=r[0];e.length>=50&&(e=`${e.slice(0,25)}...${e.slice(-24)}`);let a=`<a href="${r[0]}" target="_blank">${e}</a>`;t=t.slice(0,r.index+n)+a+t.slice(r.index+n+r[0].length),n+=r.index+a.length}return t=t.replace(/\n/g,"<br/>"),{__html:t}})()}),t&&(!e.message.data||!e.message.data.no_embed)&&_(Pa,{key:t.url,url:t.url,preview:t.preview,data:t.data}),e.files&&_(La,{files:e.files}))}function qa(e){const t=[e.message.id,...e.message.lineage].reverse(),[n,r]=Rt([]),[a,o]=Rt(null),i=(e,t)=>{if(e){if(e.data&&e.data.title)return e.data.title;if(t&&t.data)return t.data.title;if(e.data&&e.data.text){let t=_r.getUrl(e.data.text);return t&&t.length>0&&(t=t[0]),t||e.data.text}}return`${e?.author?.name}, ${_r.humanTime(e.createdAt)}`};if(Mt((()=>{(e=>{let t=[];Promise.all(e.map((e=>pr.get(`/api/messages/${e}`)))).then((n=>{Promise.all(n.map((e=>{let t=_r.getUrl(e?.data?.text);return t?pr.get(`/api/links/by_url?url=${encodeURIComponent(t[0])}`):Promise.resolve(null)}))).then((a=>{for(let r=0;r<e.length;r++)t[r]=i(n[r],a[r]);r(t)}))}))})(t),pr.get(`/api/groups/${e.message.group.id}`).then((e=>{o(e)}))}),[]),t.length>0){const e=[t[0],...t.slice(-1*Math.min(3,t.length)).slice(1)],r=[n[0],...n.slice(-1*Math.min(3,n.length)).slice(1)];return _("div",{class:"message-breadcrumbs"},_("nav",{style:"--bs-breadcrumb-divider: '>';"},_("ol",{class:"breadcrumb"},a&&_("li",{class:"breadcrumb-item"},_(sa,{key:a.id,to:`/groups/${a.id}`,class:"no-decoration"},_r.limitLength(a.name||a.id.slice(0,8),30))),e.map(((e,n)=>_(b,{key:e},_(b,null,1==n&&t.length>3&&_("li",{class:"breadcrumb-item"},"...")),_("li",{class:"breadcrumb-item"},_(sa,{key:e,to:`/messages/${e}`,class:"no-decoration"},_r.limitLength(r[n]||e.slice(0,8),30)))))))))}}function Ka(e){const t=Jr(),{t:n}=Vn(),{me:r}=ma("me"),[a,o]=Rt(null),[i,s]=Rt(null),[l,c]=Rt(null),[u,p]=Rt(!1),[d,f]=Rt(!1),[g,h]=Rt(null),m=Dt(g),v=e=>{m.current=e,h(e)},[,y]=It((e=>e+1),0);Mt((()=>{window.addEventListener("newChild",O),window.addEventListener("editMessage",x),w(),gr.removeMatchingNotifications(e.id),e.isChild||setTimeout((()=>window.scrollTo(0,0))),setTimeout((()=>{if(e.id==mr.action){const t=document.getElementById(e.id);t&&(t.scrollIntoView({block:"start",behavior:"smooth"}),setTimeout((()=>t.classList.remove("highlight")),1e3))}}),1e3)}),[]);const k=e=>{v(e),e?.author?.id&&pr.get(`/api/users/${e.author.id}`).then((e=>{o(e)})),e?.parent?.id&&pr.get(`/api/messages/${e.parent.id}`).then((e=>{s(e)})),e?.files?.length&&Promise.all(e.files.map((e=>pr.get(`/api/files/${e.id}`).then((e=>e))))).then((e=>c(e)))},w=()=>{e?.message?k(e.message):e?.token?pr.get(`/api/public/${e.token}`).then((e=>{k(e)})):pr.get(`/api/messages/${e.id}`).then((e=>{k(e)}))},O=t=>{if(!m.current?.id)return;const n=t.detail;if(n?.parent&&_r.getId(n?.parent)==e.id){n.author=r;let e=m?.current?.children?[...m.current.children,n]:[n],t=Object.assign(m.current,{children:e});v(t),y()}},x=t=>{t.detail.id==e.id&&(f(!1),k(t.detail),e.key=+Date.now())},S=e=>{e.preventDefault(),f(!1)},j=(t,n)=>_(Ia,{cancel:d?S:null,files:d?l:[],focus:n||!!d,group:g.group,messageId:d?e.id:null,parent:d?i?.id:e.id,text:d?g.data.text:"",title:d?g.data.title:"",isChild:t});return u||!g?_("div",{id:e.id,className:"message"}):_(b,null,!e?.isChild&&!e?.isPublic&&_(qa,{key:g?.id,message:g}),_("div",{id:e.id,className:(()=>{let t="message";return e.isChild&&(t+=" child"),e.id==mr.action&&(t+=" highlight"),t})()},d&&j(e?.isChild),!d&&_(b,null,e.isChild&&!e.isPublic&&d&&_("div",{class:"message-head d-none d-md-block"},_("img",{class:"rounded-circle w-3 material-shadow avatar",style:_r.backgroundHash(r.id),src:r.avatar?_r.crop(r.avatar?.id,100,100):_r.defaultAvatar})),_(da,{author:a,message:g,isPublic:e?.isPublic,isChild:e?.isChild}),_("div",{class:"main"},_(Va,{message:g,files:l||[],isPublic:e?.isPublic,isChild:e?.isChild}),_(Ba,{author:a,message:g,editMessage:e=>{e.preventDefault(),f(!0)},deleteMessage:r=>{r.preventDefault(),confirm(n("ask_delete_message"))&&pr.delete(`/api/messages/${e.id}`).then((()=>{e.isChild?p(!0):t(`/groups/${g.group.id}`)}))},shareMessage:n=>{n.preventDefault(),t(`/share?message=${e.id}`)},publishInGroup:()=>{pr.put(`/api/messages/${e.id}`,{lastActivityDate:Math.floor(Date.now()/1e3),isInFront:!0}).then((e=>{e?t(`/groups/${g.group.id}`):alert.add(n("error"),"alert-danger")}))},openPublicLink:async t=>{t.preventDefault();let n=window.open("about:blank","_blank");const r=await pr.get(`/api/messages/${e.id}/get-public-link`);n.location=`${document.baseURI}public/${r.token}`},isPublic:e?.isPublic,isChild:e?.isChild})))),e?.postMessageComponent,!e?.isChild&&!e?.isPublic&&_(pa,{childMessages:g?.children,key:e.id,id:e.id}),!d&&!e?.isPublic&&!e?.isChild&&_("div",{class:"message child mt-2"},r?.id&&_("div",{class:"message-head d-none d-md-block"},_("img",{class:"rounded-circle w-3 material-shadow avatar",style:_r.backgroundHash(r.id),src:r?.avatar?_r.crop(r.avatar.id,100,100):_r.defaultAvatar})),j(!0,e.focus)))}const Wa=Ka,Ja=class extends k{constructor(e){super(e);let t=1+Math.floor(window.screen.width*window.screen.height/68800);this.state={loaded:t,messages:[],scrollTop:0,totalMessages:0,pageYOffset:0,page:0},this.scroll_cooldown=Date.now(),this.onScroll=this.onScroll.bind(this),this.loadMessages=this.loadMessages.bind(this),this.onNewParent=this.onNewParent.bind(this),window.addEventListener("newParent",this.onNewParent)}onNewParent(){this.loadMessages(0)}componentDidMount(){this.loadMessages(0),window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}loadMessages(e){pr.get(`/api/groups/${this.props.id}`).then((e=>{this.setState({group:e})})),pr.get(`/api/groups/${this.props.id}/page/${e}`).then((t=>{if(t&&Array.isArray(t.messages)){let n=Math.max(this.state.loaded,30*e),r=this.state.messages;t.messages.map((e=>!r.find((t=>t.id==e.id))&&r.push(e))),this.setState({messages:r,totalMessages:t.totalItems,page:e,loaded:n}),30*(e+1)<n&&setTimeout((()=>this.loadMessages(e+1)))}}))}onScroll(){"none"!=window.getComputedStyle(document.getElementById("group").parentNode).display&&this.scroll_cooldown+100<Date.now()&&(this.scroll_cooldown=Date.now(),this.setState({pageYOffset:window.pageYOffset}),Array.isArray(this.state.messages)&&document.body.scrollHeight-window.screen.height-500<window.pageYOffset&&this.state.loaded<this.state.totalMessages&&(this.setState((e=>({loaded:e.loaded+10}))),this.state.loaded+30>this.state.messages.length&&(this.loadMessages(this.state.page+1),this.setState((e=>({page:e.page+1}))))))}render(){if(this.props.id)return _(b,null,Array.isArray(this.state.messages)&&this.state.messages.slice(0,this.state.loaded).map(((e,t)=>_(Ga,{tabindex:t+1,key:e.id,id:e.id}))))}},Qa=function(e){let t=Qr();return _("main",null,_(wa,null),_("div",{class:"content"},_("article",{class:"mb-3 justify-content-center d-flex"},_("div",{class:"container pb-3"},_(Ka,{focus:!!mr.getParam("focus",mr.search),isPublic:!1,isChild:!1,message:e?.message,id:t.id,key:t.id})))))},Ga=function(e){const[t,n]=Rt(null),[r,a]=Rt(null),[o,i]=Rt(null),[s,l]=Rt(null),[c,u]=Rt(null),[p,d]=Rt(0),[f,g]=Rt(!1);return Mt((()=>{pr.get(`/api/messages/${e.id}/preview`).then((e=>{n(e?.author),a(e?.preview),i(e?.id),d(e?.children),g(!0),u(e?.lastActivityDate),l(e?.data)}))}),[]),e?.id&&s?_(sa,{to:`/messages/${o}`,class:"d-inline-block seamless-link message-preview unselectable",title:s?.title},_("div",{tabindex:e?.tabindex,class:"card material-shadow-with-hover"},_("img",{title:(h=t)?h.name:"--",className:"avatar material-shadow"+(h?"":" removed-user"),style:_r.backgroundHash(h?h.id:""),src:h?.avatar?_r.crop(h.avatar.id,100,100):_r.defaultAvatar,onError:e=>e.currentTarget.src=_r.defaultAvatar}),_("div",{class:"card-miniature-loading"},f&&_(b,null,r?_("div",{class:"card-miniature",style:`background-image: url('${_r.crop(_r.getId(r),320,180)}')`}):_("div",{class:"text-preview"},s?.text))),_("div",{class:"card-body border-top d-flex justify-content-between"},_("span",{class:"left-buffer"}),_("span",{class:"title",title:s?.title||_r.humanFullDate(c)},s?.title||_(Ta,{timestamp:c})),_("span",{class:"children"},p>0&&_("span",null,`${p} `,_(fa,{family:gr.isNew(o)?"solid":"regular",icon:"comment"})))))):null;var h},Ya=function(e){const[t,n]=Rt(e?.message?.author||null);return Mt((()=>{e?.message?.author&&pr.get(`/api/users/${e.message.author}`).then((e=>e&&n(e)))}),[]),_(sa,{class:"d-inline-block seamless-link message-preview unselectable",to:e.message.parent&&0==e.message.children?`/messages/${e.message.parent}/${e.message.id}`:`/messages/${e.message.id}`,title:e?.title},_("div",{tabindex:e.tabindex,class:"card material-shadow-with-hover"},_("div",{class:"card-body border-top"},(()=>{if(e?.preview)return _("div",{class:"card-miniature",style:`background-image: url('${_r.crop(e?.preview,100,100)}')`});let n=_r.defaultAvatar;return t?.avatar?.id&&(n=_r.crop(t.avatar.id,100,100)),_("div",{class:"card-miniature",style:`background-image: url('${n}')`})})(),_("div",{class:"infos"},_("div",{class:"title",dangerouslySetInnerHTML:(()=>{if(!t?.name)return{__html:"--"};let n=t.name,r=n.split(" ");for(let t=0;t<r.length;t++)if(!r[t].match(_r.urlRegExp)){let n=e.search.split(" ");for(let e=0;e<n.length;e++)r[t]=r[t].replace(new RegExp(_r.escapeRegex(n[e]),"gi"),"<b>$&</b>")}return n=r.join(" "),{__html:n}})()}),_("div",{class:"dot"},"•"),_("div",{class:"title",title:e?.title||_r.humanFullDate(e.message.lastActivityDate),dangerouslySetInnerHTML:(()=>{if(!e?.message?.data?.title)return{__html:_r.humanTime(e?.message?.lastActivityDate)};let t=e?.message?.data?.title.replace(/</g,"&lt;").replace(/>/g,"&gt;").trim(),n=t.split(" "),r=e?.search.split(" ")||[];for(let e=0;e<n.length;e++)if(!n[e].match(_r.urlRegExp))for(let t=0;t<r.length;t++)n[e]=n[e].replace(new RegExp(_r.escapeRegex(r[t]),"gi"),"<b>$&</b>");return t=n.join(" "),{__html:t}})()})),_("div",{class:"text"},e?.message?.data?.text.trim()&&_("p",{class:"card-text",dangerouslySetInnerHTML:(()=>{if(!e?.message?.data?.text)return"";let t=e?.message?.data?.text.replace(/</g,"&lt;").replace(/>/g,"&gt;").trim(),n=t.split("\n");for(let t=0;t<n.length;t++){let r=n[t].split(" ");for(let t=0;t<r.length;t++)if(!r[t].match(_r.urlRegExp)){let n=e.search.split(" ");for(let e=0;e<n.length;e++)n[e]&&(r[t]=r[t].replace(new RegExp(_r.escapeRegex(n[e]),"gi"),"<b>$&</b>"));let a=e?.hashtags.split(" ")||[];for(let e=0;e<a.length;e++)a[e]&&(r[t]=r[t].replace(new RegExp(`#${a[e]}`,"gi"),"<b>$&</b>"))}n[t]=r.join(" ")}t=n.join("\n");let r=0,a=null;for(;a=_r.getUrl(t.slice(r));){let n=a[0];n.length>=50&&(n=`${n.slice(0,25)}...${n.slice(-24)}`);let o=e?.search.split(" ")||[];for(let e=0;e<o.length;e++)n=n.replace(new RegExp(_r.escapeRegex(o[e]),"gi"),"<b>$&</b>");let i=`<a href="${a[0]}" target="_blank">${n}</a>`;t=t.slice(0,a.index+r)+i+t.slice(a.index+r+a[0].length),r+=a.index+i.length}return t=t.replace(/\n/g,"<br/>"),{__html:t}})()})),_("div",{class:"children"},!!e.message.children&&_("span",null,`${e.message.children} `,_(fa,{family:gr.isNew(e.message.id)?"solid":"regular",icon:"comment"}))))))};const Za=function(){const[e,t]=Rt(!1),[n,r]=Rt(!1),a=Jr(),{t:o}=Vn();return Mt((()=>{vr.get("apiKey").then((e=>e&&a("/"))),vr.reset()}),[]),_("div",{class:"login"},_("div",{class:"login-form"},_("img",{src:new URL(la)}),!n&&_("form",null,_("div",{class:"form-group mb-3"},_("input",{type:"email",class:"form-control",required:!0,id:"login",placeholder:o("login_placeholder")})),_("div",{class:"form-group"},_("input",{type:"password",class:"form-control",required:!0,id:"password",placeholder:o("password_placeholder")})),_("div",{class:"forgot-password"},_("span",{onClick:()=>r(!0)},o("forgot_password"))),_("button",{type:"submit",class:"btn btn-light",onClick:e=>(e=>{e.preventDefault(),t(!0);let n=document.getElementById("login").value||"";n.toLowerCase();const r=document.getElementById("password").value;pr.post("/api/login",{login:n,password:r}).then((e=>{t(!1),e&&e.api_key?vr.set("apiKey",e.api_key).then((()=>{fr.update().then((e=>{let t="/create-group";e.data?.default_group?t=`/groups/${e?.data.default_group}`:e?.groups[0]&&(t=`/groups/${e?.groups[0].id}`),a(t)}))})):e&&e.message?cr.add(o(e.message),"alert-danger"):cr.add(o("error"),"alert-danger")}))})(e),disabled:e},o("connect"))),!!n&&_("form",null,_("div",{class:"form-group mb-3"},_("input",{type:"email",class:"form-control",required:!0,id:"login",placeholder:o("login_placeholder")})),_("button",{type:"submit",class:"btn btn-light",onClick:e=>(e=>{e.preventDefault();let n=document.getElementById("login").value||"";n.toLowerCase(),t(!0),pr.post("/api/password-reset-mail",{mail:n}).then((e=>{t(!1),e&&!e.message?cr.add(o("password_reset_mail_sent")):cr.add(o(e.message),"alert-danger")}))})(e),disabled:e},o("submit")))))},Xa=function(){const{t:e}=Vn(),t=Jr();return _("div",{class:"login"},_("div",{class:"login-form"},_("h2",{class:"title"},e("reset_password_title")),_("form",null,_("div",{class:"form-group"},_("input",{type:"password",class:"form-control",required:!0,id:"password",placeholder:e("new_password_placeholder")})),_("div",{class:"form-group"},_("input",{type:"password",class:"form-control",required:!0,id:"password_confirmation",placeholder:e("confirm_password_placeholder")})),_("button",{type:"submit",class:"btn btn-light",onClick:n=>(n=>{n.preventDefault(),vr.set("apiKey","");const r=document.getElementById("password").value||"",a=document.getElementById("password_confirmation").value||"",o=mr.getParam("mail"),i=mr.getParam("key");if(o&&r){if(r!=a)return void cr.add(e("passwords_dont_match"));pr.post("/api/new-password",{mail:o,key:i,password:r}).then((n=>{n.api_key?(vr.set("apiKey",n.api_key),setTimeout((()=>t("/")),100)):cr.add(e(n.message))})).catch((e=>console.warn(e)))}})(n)},e("submit")))))},eo=function(){const e=Jr(),{t:t}=Vn();return _("div",{class:"signup"},_("div",{class:"signup-form"},_("img",{src:new URL(la)}),_("div",{class:"welcome lead"},t("invitation_welcome")),_("form",null,_("div",{class:"form-group"},_("input",{type:"email",class:"form-control",required:!0,id:"login",placeholder:t("login_placeholder")})),_("div",{class:"form-group"},_("input",{type:"password",class:"form-control",required:!0,id:"password",placeholder:t("password_placeholder")})),_("button",{type:"submit",class:"btn btn-light",onClick:n=>(n=>{n.preventDefault();let r=document.getElementById("login").value||"";r.toLowerCase();const a=document.getElementById("password").value;vr.set("apiKey",""),pr.post("/api/signup",{login:r,password:a,invite_key:mr.getParam("inviteKey")}).then((n=>{n&&!n.message?(vr.set("apiKey",n.api_key),setTimeout((()=>e("/")),100)):cr.add(t(n.message))}))})(n)},t("signup")))))},to=ca,no=function(){let e=Qr();return _("article",{class:"justify-content-center d-flex mt-2"},_("div",{class:"container"},_("main",null,_("div",{class:"content"},_("article",{class:"mb-3 justify-content-center d-flex"},_("div",{class:"container pb-3"},_(Wa,{focus:!1,isPublic:!0,isChild:!1,token:e.token})))))))};function ro(){const e=Qr(),{t:t}=Vn(),{me:n,dispatch:r}=ma("me"),a=Jr(),[o,i]=Rt(""),[s,l]=Rt([]),[c,u]=Rt({}),[p,d]=Rt("");Mt((()=>{pr.get(`/api/groups/${e.id}`).then((e=>{u(e),i(e.secretKey),Promise.all(e.users.map((e=>pr.get(`/api/users/${e.id}`).then((e=>e))))).then((e=>l(e)))})),d(t(mr.getParam("alert")))}),[]);const f=()=>{pr.post(`/api/groups/${c.id}/leave`,{}).then((e=>{e&&e.entityType?(r("me/fetch"),cr.add(t("group_left")),a("/")):cr.add(t("error"),"alert-danger")}))};return _("div",null,_("div",{class:"group-settings mb-3"},_("div",{class:"card"},_("div",{class:"card-body"},_("div",{class:"container-fluid p-1"},_("div",{class:"row"},_("div",{class:"col-12 col-md-10"},_("form",{id:"settings_form",class:"mb-1 border-bottom pb-1"},_("div",{class:"form-group"},_("label",{for:"name"},t("name"),": "),_("input",{type:"text",name:"name",minlength:"1",maxlength:"128",placeholder:t("name_input"),value:c.name,class:"form-control",required:!0})),_("button",{onClick:e=>{e.preventDefault();const n=document.querySelector("#settings_form input[name='name']").value;n&&(c.name=n),u(Object.assign({},c)),pr.put(`/api/groups/${c.id}`,c).then((e=>{u(e),d(t("group_updated")),a(`${location.pathname}?alert=group_updated`)}))},class:"btn btn-outline-secondary"},t("save_changes"))),_("form",{class:"mb-1 border-bottom pb-1"},_("div",{class:"form-group"},_("label",{for:"inviteKey"},t("invitation_link"),":"," "),_("input",{type:"text",name:"inviteKey",value:`${window.location.protocol}//${window.location.host}/invitation/${o}`,class:"form-control font-size-80",readonly:"readonly"})),_("button",{class:"btn btn-outline-secondary",onClick:e=>{e.preventDefault(),pr.post(`/api/groups/${c.id}/reset-invite-key`,{}).then((e=>{cr.add(t("group_updated")),i(e.inviteKey)}))}},t("reset_invitation_link"))),_("form",null,_("button",{onClick:e=>(e=>{if(e.preventDefault(),n.data?.default_group==c.id){let e={};e.data={default_group:n.groups[0].id},pr.put(`/api/users/${n.id}`,e).then((()=>{r("me/fetch"),f()}))}else f()})(e),class:"btn btn-outline-danger"},t("quit_group"))))))))),_("div",{class:"user-list mb-3"},_("h3",null,t("users")),s.map((e=>e&&_("div",{class:"user-card"},_("img",{class:"avatar material-shadow-with-hover",style:_r.backgroundHash(e.id),src:e.avatar?_r.crop(e.avatar.id,200,200):_r.defaultAvatar,onError:e=>e.currentTarget.src=_r.defaultAvatar}),_("span",null,e.name))))),p&&_("div",{class:"global-alert alert alert-success"},p))}function ao(){const{t:e}=Vn(),{me:t}=ma("me"),n=Jr(),r=Wr(),[a,o]=Rt(null),[i,s]=Rt("");Mt((()=>{vr.get("apiKey").then((e=>o(e))),s(e(mr.getParam("alert")))}),[]);return _("div",{class:"user-settings"},_("div",{class:"card"},_("div",{class:"identite card-body"},_("div",{class:"container-fluid p-1"},_("div",{class:"row"},_("div",{class:"col-12 col-md-2"},_("img",{class:"img-fluid rounded-circle material-shadow avatar",src:t.avatar?_r.crop(t.avatar.id,100,100):_r.defaultAvatar,style:_r.backgroundHash(t.id||""),onError:e=>e.currentTarget.src=_r.defaultAvatar,onClick:a=>(()=>{const a=document.createElement("input");a.type="file",a.accept="image/*",a.addEventListener("change",(a=>{const o=new FormData;o.append("file",a.target.files[0]),pr.sendFile(o,(a=>{pr.put(`/api/users/${t.id}`,{avatar:a.id}).then((()=>{s(e("settings_updated")),n(`${r.pathname}?alert=settings_updated`)}))}))})),a.click()})()})),_("div",{class:"col-12 col-md-10"},_("form",{id:"settings_form",class:"mb-3"},_("div",{class:"form-group"},_("label",{for:"name"},e("name"),": "),_("input",{type:"text",name:"name",minlength:"1",maxlength:"128",placeholder:e("name_input"),value:t.name,class:"form-control"})),_("div",{class:"form-group"},_("label",{for:"email"},e("email"),": "),_("input",{type:"email",name:"email",placeholder:e("email_input"),value:t.login,class:"form-control"})),_("div",{class:"form-group"},_("label",{for:"password"},e("password"),": "),_("input",{type:"password",name:"password",autocomplete:"off",minlength:"8",maxlength:"128",placeholder:e("password_input"),class:"form-control"})),_("div",{class:"form-group"},_("label",{for:"notification_emails"},e("notification_emails"),":"),_("select",{name:"notification_emails",class:"form-control",value:t?.data.notification_emails},_("option",{value:"none"},e("none")),_("option",{value:"hourly"},e("hourly")),_("option",{value:"daily"},e("daily")),_("option",{value:"weekly"},e("weekly")),_("option",{value:"monthly"},e("monthly")))),_("div",{class:"form-group"},_("label",{for:"default_group"},e("default_group"),":"),_("select",{name:"default_group",class:"form-control",value:t?.data.default_group},t.groups?.map((e=>_("option",{key:e.id,value:e.id},e.name))))),_("div",{class:"form-group"},_("label",{class:"capitalize",for:"lang"},e("lang"),":"),_("select",{name:"lang",class:"form-control",value:dr.getCurrentLang()},Object.keys(dr.possibleLang).map((e=>_("option",{key:e,value:e},dr.possibleLang[e]))))),_("button",{onClick:a=>(a=>{a.preventDefault();const o=document.querySelector("#settings_form input[name='name']").value,i=document.querySelector("#settings_form input[name='email']").value,l=document.querySelector("#settings_form input[name='password']").value,c=document.querySelector("#settings_form select[name='notification_emails']").value,u=document.querySelector("#settings_form select[name='default_group']").value,p=document.querySelector("#settings_form select[name='lang']").value;let d={};o&&(d.name=o),i&&(d.login=i),l&&(d.password=l),d.data={notification_emails:c,default_group:u,lang:p},pr.put(`/api/users/${t.id}`,d).then((t=>{t.error?cr.add(t.error,"alert-danger"):(s(e("settings_updated")),n(`${r.pathname}?alert=settings_updated`))}))})(a),class:"btn btn-primary"},e("save_changes"))),_("form",{id:"api_key_form"},_("div",{class:"form-group"},_("label",{for:"apiKey"},e("api_key"),":"," "),_("input",{type:"text",name:"apiKey",value:a,class:"form-control font-size-80",readonly:"readonly"})),_("button",{class:"btn btn-outline-secondary",onClick:e=>{e.preventDefault(),pr.post(`/api/users/${t.id}/reset-api-key`,{}).then((()=>mr.logout()))}},e("reset_api_key"))),_("form",{id:"destroy_form"},_("label",{class:"d-block",for:"destroy_account"},e("destroy_account_explain")),_("button",{onClick:r=>(r.preventDefault(),void(confirm(e("are_you_sure"))&&pr.delete(`/api/users/${t.id}`).then((()=>{n("/logout")})))),name:"destroy_account",class:"btn btn-danger"},e("destroy_account")))))))),i&&_("div",{class:"global-alert alert alert-success"},i))}const oo=function(){const e=Qr(),{t:t}=Vn(),{me:n}=ma("me");return _("main",null,_(wa,null),_("div",{class:"content"},_("article",{class:"mt-2 justify-content-center d-flex"},_("div",{class:"container pb-3"},_("div",{class:"settings"},_("ul",{class:"nav nav-tabs"},_("li",{class:"nav-item"},_(sa,{class:"nav-link"+("users"==e.type?" active":""),to:`/users/${n.id}/settings`},t("account"))),n.groups?.length>0&&_("li",{class:"nav-item dropdown group-list",tabindex:"-1",onClick:e=>e.currentTarget.classList.toggle("active")},_("div",{class:"nav-link"+("groups"==e.type?" active":"")},t("groups")),_("div",{class:"dropdown-menu"},n.groups?.map((e=>_(sa,{key:`/groups/${e.id}/settings`,class:"seamless-link",to:`/groups/${e.id}/settings`},e.name)))))),"users"===e.type&&_(ao,{id:e.id,key:e.id}),"groups"===e.type&&_(ro,{id:e.id,key:e.id}))))))};var io=function(){const e=Jr(),t=Wr(),n=e=>{e.target.closest(".dropdown")?document.querySelectorAll(".dropdown").forEach((t=>{t!=e.target.closest(".dropdown")&&t.classList.remove("active")})):document.querySelectorAll(".dropdown").forEach((e=>e.classList.remove("active")))};return Mt((()=>(ur.update(),gr.update(),hr.update(),window.addEventListener("click",(e=>n(e))),()=>{window.removeEventListener("click",(e=>n(e)))}))),fr.fetch().then((n=>{if("/"==t.pathname){let t="/login";n&&(t="/create-group",n.data?.default_group?t=`/groups/${n?.data.default_group}`:n?.groups[0]&&(t=`/groups/${n?.groups[0].id}`)),e(t)}t.pathname.match(/^\/invitation/)&&(n?pr.post(`/api/groups/invitation/${mr.id}`,{}).then((()=>{e("/")})):e(`/signup?inviteKey=${mr.id}`)),mr.isOutside()||n||e("/login")})),_(ta,null,_(Xr,{path:"/password-reset",element:_(Xa,null)}),_(Xr,{path:"/public/:token",element:_(no,null)}),_(Xr,{path:"/share",element:_(Ha,null)}),_(Xr,{path:"/signup",element:_(eo,null)}),_(Xr,{path:"/stop-notification-emails",element:_(to,null)}),_(Xr,{path:"/login",element:_(Za,null)}),_(Xr,{path:"/logout",element:_(Zr,{replace:!0,to:"/login"})}),_(Xr,{path:"/:type/:id/settings",element:_(oo,null)}),_(Xr,{path:"/bookmarks",element:_($a,null)}),_(Xr,{path:"/create-group",element:_(Da,null)}),_(Xr,{path:"/groups/:id",element:_(za,null)}),_(Xr,{path:"/groups/:id/search",element:_(ba,null)}),_(Xr,{path:"/groups/:id/write",element:_(Ra,null)}),_(Xr,{path:"/messages/:id",element:_(Qa,null)}),_(Xr,{path:"/messages/:id/:child_id",element:_(Qa,null)}))};function so(){return _(ga.Provider,{value:q},_(io,null))}T(_((function(){return _(ia,null,_(so,null))}),null),document.body);var lo;lo=new URL(o("c1bOu").resolve("fGyc1"),import.meta.url).toString(),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register(lo).then((e=>{console.log("ServiceWorker registration successful with scope: ",e.scope)}),(e=>{console.warn("ServiceWorker registration failed: ",e)}))}));
//# sourceMappingURL=index.6e22c918.js.map
